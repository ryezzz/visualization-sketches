"use strict";(self.webpackChunkvisualization_sketches=self.webpackChunkvisualization_sketches||[]).push([[173],{7660:function(t,e,r){r.d(e,{t:function(){return Wt},s:function(){return h}});var n=r(7294),a=r(2149),o=r(6446),i=r(2884),u=r(615);function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c=function(t,e,r,n,a,o,i){void 0===i&&(i=!1);var u=t.map((function(t){return{x:n(t[e]),r:a(t[r]),data:t}})).sort((function(t,e){return t.data.formatted_date-e.data.formatted_date})),l=null,c=null;function h(t,e,r){for(var n=l;n;){if(Math.pow(n.r+r+o,2)-.001>Math.pow(n.x-t,2)+Math.pow(n.y-e,2))return!0;n=n.next}return!1}for(var f,p=s(u);!(f=p()).done;){var v=f.value;if(h(v.x,v.y=v.r,v.r)){var d=l;v.y=1/0;do{var y=d.y+Math.sqrt(Math.pow(d.r+v.r+o,2)-Math.pow(d.x-v.x,2));y<v.y&&!h(v.x,y,v.r)&&(v.y=y),d=d.next}while(d)}v.next=null,null===l?l=c=v:c=c.next=v}return u},h=function(t){var e=t.pixelRatio,r=t.height,s=t.width,l=t.margin,h=t.marginLeft,f=(t.marginTop,t.particles),p=(0,n.useRef)(),v=(0,n.useRef)(),d=(0,n.useRef)(),y="rgba(0,0,255,.7)",g=function(t,e){var r=(0,n.useRef)(e);return(0,n.useEffect)((function(){r.current=t})),r.current}(t.dateSelection,""),m=o.BYU().domain(o.Wem(f,(function(e){return e[t.valueSelection]}))).range([1,r/80]),b=function(t,e){return o.cJy().domain(o.Wem(f,(function(t){return t[e]}))).range([h,s-0])},k=function(t){return m(t)},M=c(f,g,t.valueSelection,b(0,g),k,1.4),x=c(f,t.dateSelection,t.valueSelection,b(0,t.dateSelection),k,1.4),w=(0,u.j)()&&o.Ys("#tooltipDiv").style("background-color","white").style("border-radius","2px").style("box-shadow","0 3px 6px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.4)").style("opacity",0).style("padding","5px").style("z-index",1e6);var S=o.cJy().domain(o.Wem(f,(function(e){return e[t.dateSelection]}))).range([l,s-l]),A=o.LLu(S).ticks(5).tickFormat((function(t){return""+t}));return(0,n.useEffect)((function(){var n=p.current.getContext("2d");n.scale(e,e),n.setTransform(e,0,0,e,0,0),n.globalAlpha=1,n.lineWidth=1.4,n.fillStyle=y;onscroll=function(t){c()};var c=function(){o.Ys(v.current).attr("r",0)};onmousemove=function(e){e.preventDefault();var n,i,h,f=window.pageYOffset,p=o.cx$(e,undefined),d=p[0]+l,g=r-p[1]+f,m=d<s+l,b=(t.dateSelection,a.Z.from(x.map((function(t){return[t.x,t.y]})))).find(d,g),k=x[b],M=k.x,S=r-k.y,A=k.data[t.valueSelection],Z=k.data[t.dateSelection],O=k.data.date;m?function(e,r,n,a,o){(0,u.j)()&&w.style("opacity",.7).style("display","block").style("top",r+"px").style("left",e+30-l+"px").style("z-index",5e5).html('<div class ="swarmTooltipText">\n          <div>words written: <b>'+n+"</b></div>\n          <div>"+t.dateSelection+": <b>"+a+"</b></div>\n          <div><b>"+o+"</b></div>\n          </div>")}(M,S,A,Z,O):(u.j&&w.style("display","none"),u.j&&w.style("opacity","0")),m?(i=(n=k).x-l,h=n.y,o.Ys(v.current).attr("r",n.r+1).attr("cx",i).attr("cy",r-h).attr("fill","rgb(255,255,255)").attr("stroke",y)):c(k)},function(){n.strokeStyle="rgba(0,0,0,0)";function t(){n.restore(),n.clearRect(0,0,s,r),o.Ys(d.current).call(A).transition(),n.beginPath(),M.map((function(t,e){return n.beginPath(),n.arc(t.x-l,r-t.y,t.r,0,2*Math.PI),n.stroke(),n.fill()}))}i.p8.fromTo(M,{x:function(t){return M[t].x},y:function(t){return M[t].y}},{x:function(t){return x[t].x},y:function(t){return x[t].y},duration:1,ease:"strong.inOut",onUpdate:t,stagger:{each:5e-4,from:"random"}})}()}),[t.dateSelection,t.width,t.height,t.pixelRatio]),n.createElement("div",{className:"canvasStickyChartContainer scrollySwarmContainerSterile"},n.createElement("div",{id:"tooltipDiv",className:"tooltipDiv"}),n.createElement("svg",{className:"canvasStickyPointHighlight",width:s,height:r},n.createElement("circle",{r:0,className:"highlightCircle",ref:v})),n.createElement("canvas",{className:"canvasStickyChart",style:{width:t.width+"px",height:t.height+"px"},ref:p,particles:t.particles,stroke:t.stroke,width:t.width*t.pixelRatio,height:t.height*t.pixelRatio,useScrollData:t.useScrollData,dateSelection:t.dateSelection,valueSelection:t.valueSelection,margin:t.margin}),n.createElement("svg",{style:{top:t.height-1},className:"canvasStickyChartAxis"},n.createElement("g",{className:"lightModeAxis",ref:d})))},f=r(5671),p=r(3144),v=r(885),d=r(2982);function y(t,e,r){if(t&&t.length){var n=(0,v.Z)(e,2),a=n[0],o=n[1],i=Math.PI/180*r,u=Math.cos(i),s=Math.sin(i);t.forEach((function(t){var e=(0,v.Z)(t,2),r=e[0],n=e[1];t[0]=(r-a)*u-(n-o)*s+a,t[1]=(r-a)*s+(n-o)*u+o}))}}function g(t){var e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e){var r=e.hachureAngle+90,n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);var a=[0,0];if(r){var o,i=m(t);try{for(i.s();!(o=i.n()).done;){y(o.value,a,r)}}catch(c){i.e(c)}finally{i.f()}}var u=function(t,e){var r,n=[],a=m(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=(0,d.Z)(o);i[0].join(",")!==i[i.length-1].join(",")&&i.push([i[0][0],i[0][1]]),i.length>2&&n.push(i)}}catch(c){a.e(c)}finally{a.f()}var u=[];e=Math.max(e,.1);for(var s=[],l=0,h=n;l<h.length;l++)for(var f=h[l],p=0;p<f.length-1;p++){var v=f[p],y=f[p+1];if(v[1]!==y[1]){var g=Math.min(v[1],y[1]);s.push({ymin:g,ymax:Math.max(v[1],y[1]),x:g===v[1]?v[0]:y[0],islope:(y[0]-v[0])/(y[1]-v[1])})}}if(s.sort((function(t,e){return t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax)})),!s.length)return u;var b=[],k=s[0].ymin;for(;b.length||s.length;){if(s.length){for(var M=-1,x=0;x<s.length&&!(s[x].ymin>k);x++)M=x;s.splice(0,M+1).forEach((function(t){b.push({s:k,edge:t})}))}if((b=b.filter((function(t){return!(t.edge.ymax<=k)}))).sort((function(t,e){return t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x)})),b.length>1)for(var w=0;w<b.length;w+=2){var S=w+1;if(S>=b.length)break;var A=b[w].edge,Z=b[S].edge;u.push([[Math.round(A.x),k],[Math.round(Z.x),k]])}k+=e,b.forEach((function(t){t.edge.x=t.edge.x+e*t.edge.islope}))}return u}(t,n);if(r){var s,l=m(t);try{for(l.s();!(s=l.n()).done;){y(s.value,a,-r)}}catch(c){l.e(c)}finally{l.f()}!function(t,e,r){var n=[];t.forEach((function(t){return n.push.apply(n,(0,d.Z)(t))})),y(n,e,r)}(u,a,-r)}return u}function M(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(){function t(e){(0,f.Z)(this,t),this.helper=e}return(0,p.Z)(t,[{key:"fillPolygons",value:function(t,e){return this._fillPolygons(t,e)}},{key:"_fillPolygons",value:function(t,e){var r=k(t,e);return{type:"fillSketch",ops:this.renderLines(r,e)}}},{key:"renderLines",value:function(t,e){var r,n=[],a=M(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.push.apply(n,(0,d.Z)(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],e)))}}catch(i){a.e(i)}finally{a.f()}return n}}]),t}(),S=r(136),A=r(2963),Z=r(1120);function O(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,Z.Z)(t);if(e){var a=(0,Z.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,A.Z)(this,r)}}var C=function(t){(0,S.Z)(r,t);var e=I(r);function r(){return(0,f.Z)(this,r),e.apply(this,arguments)}return(0,p.Z)(r,[{key:"fillPolygons",value:function(t,e){var r=e.hachureGap;r<0&&(r=4*e.strokeWidth),r=Math.max(r,.1);var n,a=k(t,Object.assign({},e,{hachureGap:r})),o=Math.PI/180*e.hachureAngle,i=[],u=.5*r*Math.cos(o),s=.5*r*Math.sin(o),l=O(a);try{for(l.s();!(n=l.n()).done;){var c=(0,v.Z)(n.value,2),h=c[0],f=c[1];g([h,f])&&i.push([[h[0]-u,h[1]+s],(0,d.Z)(f)],[[h[0]+u,h[1]-s],(0,d.Z)(f)])}}catch(p){l.e(p)}finally{l.f()}return{type:"fillSketch",ops:this.renderLines(i,e)}}}]),r}(w);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,Z.Z)(t);if(e){var a=(0,Z.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,A.Z)(this,r)}}var j=function(t){(0,S.Z)(r,t);var e=T(r);function r(){return(0,f.Z)(this,r),e.apply(this,arguments)}return(0,p.Z)(r,[{key:"fillPolygons",value:function(t,e){var r=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),a=this._fillPolygons(t,n);return r.ops=r.ops.concat(a.ops),r}}]),r}(w);function R(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var L=function(){function t(e){(0,f.Z)(this,t),this.helper=e}return(0,p.Z)(t,[{key:"fillPolygons",value:function(t,e){var r=k(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(r,e)}},{key:"dotsOnLines",value:function(t,e){var r=[],n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);var a=e.fillWeight;a<0&&(a=e.strokeWidth/2);var o,i=n/4,u=R(t);try{for(u.s();!(o=u.n()).done;)for(var s=o.value,l=g(s),c=l/n,h=Math.ceil(c)-1,f=l-h*n,p=(s[0][0]+s[1][0])/2-n/4,v=Math.min(s[0][1],s[1][1]),y=0;y<h;y++){var m=v+f+y*n,b=p-i+2*Math.random()*i,k=m-i+2*Math.random()*i,M=this.helper.ellipse(b,k,a,a,e);r.push.apply(r,(0,d.Z)(M.ops))}}catch(x){u.e(x)}finally{u.f()}return{type:"fillSketch",ops:r}}}]),t}(),D=function(){function t(e){(0,f.Z)(this,t),this.helper=e}return(0,p.Z)(t,[{key:"fillPolygons",value:function(t,e){var r=k(t,e);return{type:"fillSketch",ops:this.dashedLine(r,e)}}},{key:"dashedLine",value:function(t,e){var r=this,n=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,a=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((function(t){var i=g(t),u=Math.floor(i/(n+a)),s=(i+a-u*(n+a))/2,l=t[0],c=t[1];l[0]>c[0]&&(l=t[1],c=t[0]);for(var h=Math.atan((c[1]-l[1])/(c[0]-l[0])),f=0;f<u;f++){var p=f*(n+a),v=p+n,y=[l[0]+p*Math.cos(h)+s*Math.cos(h),l[1]+p*Math.sin(h)+s*Math.sin(h)],m=[l[0]+v*Math.cos(h)+s*Math.cos(h),l[1]+v*Math.sin(h)+s*Math.sin(h)];o.push.apply(o,(0,d.Z)(r.helper.doubleLineOps(y[0],y[1],m[0],m[1],e)))}})),o}}]),t}(),W=function(){function t(e){(0,f.Z)(this,t),this.helper=e}return(0,p.Z)(t,[{key:"fillPolygons",value:function(t,e){var r=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,n=e.zigzagOffset<0?r:e.zigzagOffset,a=k(t,e=Object.assign({},e,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(a,n,e)}}},{key:"zigzagLines",value:function(t,e,r){var n=this,a=[];return t.forEach((function(t){var o=g(t),i=Math.round(o/(2*e)),u=t[0],s=t[1];u[0]>s[0]&&(u=t[1],s=t[0]);for(var l=Math.atan((s[1]-u[1])/(s[0]-u[0])),c=0;c<i;c++){var h=2*c*e,f=2*(c+1)*e,p=Math.sqrt(2*Math.pow(e,2)),v=[u[0]+h*Math.cos(l),u[1]+h*Math.sin(l)],y=[u[0]+f*Math.cos(l),u[1]+f*Math.sin(l)],m=[v[0]+p*Math.cos(l+Math.PI/4),v[1]+p*Math.sin(l+Math.PI/4)];a.push.apply(a,(0,d.Z)(n.helper.doubleLineOps(v[0],v[1],m[0],m[1],r)).concat((0,d.Z)(n.helper.doubleLineOps(m[0],m[1],y[0],y[1],r))))}})),a}}]),t}(),_={};var z=function(){function t(e){(0,f.Z)(this,t),this.seed=e}return(0,p.Z)(t,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]),t}();var $={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function G(t,e){return t.type===e}function U(t){for(var e=[],r=function(t){for(var e=new Array;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:""},e}(t),n="BOD",a=0,o=r[a];!G(o,2);){var i=0,u=[];if("BOD"===n){if("M"!==o.text&&"m"!==o.text)return U("M0,0"+t);a++,i=$[o.text],n=o.text}else G(o,1)?i=$[n]:(a++,i=$[o.text],n=o.text);if(!(a+i<r.length))throw new Error("Path data ended short");for(var s=a;s<a+i;s++){var l=r[s];if(!G(l,1))throw new Error("Param not a number: "+n+","+l.text);u[u.length]=+l.text}if("number"!=typeof $[n])throw new Error("Bad segment: "+n);var c={key:n,data:u};e.push(c),o=r[a+=i],"M"===n&&(n="L"),"m"===n&&(n="l")}return e}function F(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q(t){var e,r=0,n=0,a=0,o=0,i=[],u=F(t);try{for(u.s();!(e=u.n()).done;){var s=e.value,l=s.key,c=s.data;switch(l){case"M":i.push({key:"M",data:(0,d.Z)(c)});var h=(0,v.Z)(c,2);r=h[0],n=h[1];var f=(0,v.Z)(c,2);a=f[0],o=f[1];break;case"m":r+=c[0],n+=c[1],i.push({key:"M",data:[r,n]}),a=r,o=n;break;case"L":i.push({key:"L",data:(0,d.Z)(c)});var p=(0,v.Z)(c,2);r=p[0],n=p[1];break;case"l":r+=c[0],n+=c[1],i.push({key:"L",data:[r,n]});break;case"C":i.push({key:"C",data:(0,d.Z)(c)}),r=c[4],n=c[5];break;case"c":var y=c.map((function(t,e){return e%2?t+n:t+r}));i.push({key:"C",data:y}),r=y[4],n=y[5];break;case"Q":i.push({key:"Q",data:(0,d.Z)(c)}),r=c[2],n=c[3];break;case"q":var g=c.map((function(t,e){return e%2?t+n:t+r}));i.push({key:"Q",data:g}),r=g[2],n=g[3];break;case"A":i.push({key:"A",data:(0,d.Z)(c)}),r=c[5],n=c[6];break;case"a":r+=c[5],n+=c[6],i.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],r,n]});break;case"H":i.push({key:"H",data:(0,d.Z)(c)}),r=c[0];break;case"h":r+=c[0],i.push({key:"H",data:[r]});break;case"V":i.push({key:"V",data:(0,d.Z)(c)}),n=c[0];break;case"v":n+=c[0],i.push({key:"V",data:[n]});break;case"S":i.push({key:"S",data:(0,d.Z)(c)}),r=c[2],n=c[3];break;case"s":var m=c.map((function(t,e){return e%2?t+n:t+r}));i.push({key:"S",data:m}),r=m[2],n=m[3];break;case"T":i.push({key:"T",data:(0,d.Z)(c)}),r=c[0],n=c[1];break;case"t":r+=c[0],n+=c[1],i.push({key:"T",data:[r,n]});break;case"Z":case"z":i.push({key:"Z",data:[]}),r=a,n=o}}}catch(b){u.e(b)}finally{u.f()}return i}function V(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B(t){var e,r=[],n="",a=0,o=0,i=0,u=0,s=0,l=0,c=V(t);try{for(c.s();!(e=c.n()).done;){var h=e.value,f=h.key,p=h.data;switch(f){case"M":r.push({key:"M",data:(0,d.Z)(p)});var y=(0,v.Z)(p,2);a=y[0],o=y[1];var g=(0,v.Z)(p,2);i=g[0],u=g[1];break;case"C":r.push({key:"C",data:(0,d.Z)(p)}),a=p[4],o=p[5],s=p[2],l=p[3];break;case"L":r.push({key:"L",data:(0,d.Z)(p)});var m=(0,v.Z)(p,2);a=m[0],o=m[1];break;case"H":a=p[0],r.push({key:"L",data:[a,o]});break;case"V":o=p[0],r.push({key:"L",data:[a,o]});break;case"S":var b=0,k=0;"C"===n||"S"===n?(b=a+(a-s),k=o+(o-l)):(b=a,k=o),r.push({key:"C",data:[b,k].concat((0,d.Z)(p))}),s=p[0],l=p[1],a=p[2],o=p[3];break;case"T":var M=(0,v.Z)(p,2),x=M[0],w=M[1],S=0,A=0;"Q"===n||"T"===n?(S=a+(a-s),A=o+(o-l)):(S=a,A=o);var Z=a+2*(S-a)/3,O=o+2*(A-o)/3,P=x+2*(S-x)/3,I=w+2*(A-w)/3;r.push({key:"C",data:[Z,O,P,I,x,w]}),s=S,l=A,a=x,o=w;break;case"Q":var C=(0,v.Z)(p,4),T=C[0],j=C[1],R=C[2],E=C[3],L=a+2*(T-a)/3,D=o+2*(j-o)/3,W=R+2*(T-R)/3,_=E+2*(j-E)/3;r.push({key:"C",data:[L,D,W,_,R,E]}),s=T,l=j,a=R,o=E;break;case"A":var z=Math.abs(p[0]),$=Math.abs(p[1]),G=p[2],U=p[3],F=p[4],N=p[5],q=p[6];if(0===z||0===$)r.push({key:"C",data:[a,o,N,q,N,q]}),a=N,o=q;else if(a!==N||o!==q)J(a,o,N,q,z,$,G,U,F).forEach((function(t){r.push({key:"C",data:t})})),a=N,o=q;break;case"Z":r.push({key:"Z",data:[]}),a=i,o=u}n=f}}catch(Y){c.e(Y)}finally{c.f()}return r}function H(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function J(t,e,r,n,a,o,i,u,s,l){var c,h=(c=i,Math.PI*c/180),f=[],p=0,d=0,y=0,g=0;if(l){var m=(0,v.Z)(l,4);p=m[0],d=m[1],y=m[2],g=m[3]}else{var b=H(t,e,-h),k=(0,v.Z)(b,2);t=k[0],e=k[1];var M=H(r,n,-h),x=(0,v.Z)(M,2),w=(t-(r=x[0]))/2,S=(e-(n=x[1]))/2,A=w*w/(a*a)+S*S/(o*o);A>1&&(a*=A=Math.sqrt(A),o*=A);var Z=a*a,O=o*o,P=Z*O-Z*S*S-O*w*w,I=Z*S*S+O*w*w,C=(u===s?-1:1)*Math.sqrt(Math.abs(P/I));y=C*a*S/o+(t+r)/2,g=C*-o*w/a+(e+n)/2,p=Math.asin(parseFloat(((e-g)/o).toFixed(9))),d=Math.asin(parseFloat(((n-g)/o).toFixed(9))),t<y&&(p=Math.PI-p),r<y&&(d=Math.PI-d),p<0&&(p=2*Math.PI+p),d<0&&(d=2*Math.PI+d),s&&p>d&&(p-=2*Math.PI),!s&&d>p&&(d-=2*Math.PI)}var T=d-p;if(Math.abs(T)>120*Math.PI/180){var j=d,R=r,E=n;d=s&&d>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=J(r=y+a*Math.cos(d),n=g+o*Math.sin(d),R,E,a,o,i,0,s,[d,j,y,g])}T=d-p;var L=Math.cos(p),D=Math.sin(p),W=Math.cos(d),_=Math.sin(d),z=Math.tan(T/4),$=4/3*a*z,G=4/3*o*z,U=[t,e],F=[t+$*D,e-G*L],N=[r+$*_,n-G*W],q=[r,n];if(F[0]=2*U[0]-F[0],F[1]=2*U[1]-F[1],l)return[F,N,q].concat(f);f=[F,N,q].concat(f);for(var V=[],Y=0;Y<f.length;Y+=3){var B=H(f[Y][0],f[Y][1],h),Q=H(f[Y+1][0],f[Y+1][1],h),K=H(f[Y+2][0],f[Y+2][1],h);V.push([B[0],B[1],Q[0],Q[1],K[0],K[1]])}return V}function Q(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X={randOffset:function(t,e){return ft(t,e)},randOffsetWithRange:function(t,e,r){return ht(t,e,r)},ellipse:function(t,e,r,n,a){var o=at(r,n,a);return ot(t,e,a,o).opset},doubleLineOps:function(t,e,r,n,a){return pt(t,e,r,n,a,!0)}};function tt(t,e,r,n,a){return{type:"path",ops:pt(t,e,r,n,a)}}function et(t,e,r){var n=(t||[]).length;if(n>2){for(var a=[],o=0;o<n-1;o++)a.push.apply(a,(0,d.Z)(pt(t[o][0],t[o][1],t[o+1][0],t[o+1][1],r)));return e&&a.push.apply(a,(0,d.Z)(pt(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r))),{type:"path",ops:a}}return 2===n?tt(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function rt(t,e,r,n,a){return function(t,e){return et(t,!0,e)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],a)}function nt(t,e){var r=dt(t,1*(1+.2*e.roughness),e);if(!e.disableMultiStroke){var n=dt(t,1.5*(1+.22*e.roughness),function(t){var e=Object.assign({},t);e.randomizer=void 0,t.seed&&(e.seed=t.seed+1);return e}(e));r=r.concat(n)}return{type:"path",ops:r}}function at(t,e,r){var n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),o=2*Math.PI/a,i=Math.abs(t/2),u=Math.abs(e/2),s=1-r.curveFitting;return{increment:o,rx:i+=ft(i*s,r),ry:u+=ft(u*s,r)}}function ot(t,e,r,n){var a=gt(n.increment,t,e,n.rx,n.ry,1,n.increment*ht(.1,ht(.4,1,r),r),r),o=(0,v.Z)(a,2),i=o[0],u=o[1],s=yt(i,null,r);if(!r.disableMultiStroke&&0!==r.roughness){var l=gt(n.increment,t,e,n.rx,n.ry,1.5,0,r),c=yt((0,v.Z)(l,1)[0],null,r);s=s.concat(c)}return{estimatedPoints:u,opset:{type:"path",ops:s}}}function it(t,e,r,n,a,o,i,u,s){var l=t,c=e,h=Math.abs(r/2),f=Math.abs(n/2);h+=ft(.01*h,s),f+=ft(.01*f,s);for(var p=a,v=o;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);var y=2*Math.PI/s.curveStepCount,g=Math.min(y/2,(v-p)/2),m=mt(g,l,c,h,f,p,v,1,s);if(!s.disableMultiStroke){var b=mt(g,l,c,h,f,p,v,1.5,s);m.push.apply(m,(0,d.Z)(b))}return i&&(u?m.push.apply(m,(0,d.Z)(pt(l,c,l+h*Math.cos(p),c+f*Math.sin(p),s)).concat((0,d.Z)(pt(l,c,l+h*Math.cos(v),c+f*Math.sin(v),s)))):m.push({op:"lineTo",data:[l,c]},{op:"lineTo",data:[l+h*Math.cos(p),c+f*Math.sin(p)]})),{type:"path",ops:m}}function ut(t,e){var r,n=[],a=Q(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.length){var i=e.maxRandomnessOffset||0,u=o.length;if(u>2){n.push({op:"move",data:[o[0][0]+ft(i,e),o[0][1]+ft(i,e)]});for(var s=1;s<u;s++)n.push({op:"lineTo",data:[o[s][0]+ft(i,e),o[s][1]+ft(i,e)]})}}}}catch(l){a.e(l)}finally{a.f()}return{type:"fillPath",ops:n}}function st(t,e){return function(t,e){var r=t.fillStyle||"hachure";if(!_[r])switch(r){case"zigzag":_[r]||(_[r]=new C(e));break;case"cross-hatch":_[r]||(_[r]=new j(e));break;case"dots":_[r]||(_[r]=new L(e));break;case"dashed":_[r]||(_[r]=new D(e));break;case"zigzag-line":_[r]||(_[r]=new W(e));break;default:_[r="hachure"]||(_[r]=new w(e))}return _[r]}(e,X).fillPolygons(t,e)}function lt(t,e,r,n,a,o,i){var u=t,s=e,l=Math.abs(r/2),c=Math.abs(n/2);l+=ft(.01*l,i),c+=ft(.01*c,i);for(var h=a,f=o;h<0;)h+=2*Math.PI,f+=2*Math.PI;f-h>2*Math.PI&&(h=0,f=2*Math.PI);for(var p=(f-h)/i.curveStepCount,v=[],d=h;d<=f;d+=p)v.push([u+l*Math.cos(d),s+c*Math.sin(d)]);return v.push([u+l*Math.cos(f),s+c*Math.sin(f)]),v.push([u,s]),st([v],i)}function ct(t){return t.randomizer||(t.randomizer=new z(t.seed||0)),t.randomizer.next()}function ht(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r.roughness*n*(ct(r)*(e-t)+t)}function ft(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return ht(-t,t,e,r)}function pt(t,e,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=o?a.disableMultiStrokeFill:a.disableMultiStroke,u=vt(t,e,r,n,a,!0,!1);if(i)return u;var s=vt(t,e,r,n,a,!0,!0);return u.concat(s)}function vt(t,e,r,n,a,o,i){var u=Math.pow(t-r,2)+Math.pow(e-n,2),s=Math.sqrt(u),l=1;l=s<200?1:s>500?.4:-.0016668*s+1.233334;var c=a.maxRandomnessOffset||0;c*c*100>u&&(c=s/10);var h=c/2,f=.2+.2*ct(a),p=a.bowing*a.maxRandomnessOffset*(n-e)/200,v=a.bowing*a.maxRandomnessOffset*(t-r)/200;p=ft(p,a,l),v=ft(v,a,l);var d=[],y=function(){return ft(h,a,l)},g=function(){return ft(c,a,l)},m=a.preserveVertices;return o&&(i?d.push({op:"move",data:[t+(m?0:y()),e+(m?0:y())]}):d.push({op:"move",data:[t+(m?0:ft(c,a,l)),e+(m?0:ft(c,a,l))]})),i?d.push({op:"bcurveTo",data:[p+t+(r-t)*f+y(),v+e+(n-e)*f+y(),p+t+2*(r-t)*f+y(),v+e+2*(n-e)*f+y(),r+(m?0:y()),n+(m?0:y())]}):d.push({op:"bcurveTo",data:[p+t+(r-t)*f+g(),v+e+(n-e)*f+g(),p+t+2*(r-t)*f+g(),v+e+2*(n-e)*f+g(),r+(m?0:g()),n+(m?0:g())]}),d}function dt(t,e,r){var n=[];n.push([t[0][0]+ft(e,r),t[0][1]+ft(e,r)]),n.push([t[0][0]+ft(e,r),t[0][1]+ft(e,r)]);for(var a=1;a<t.length;a++)n.push([t[a][0]+ft(e,r),t[a][1]+ft(e,r)]),a===t.length-1&&n.push([t[a][0]+ft(e,r),t[a][1]+ft(e,r)]);return yt(n,null,r)}function yt(t,e,r){var n=t.length,a=[];if(n>3){var o=[],i=1-r.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(var u=1;u+2<n;u++){var s=t[u];o[0]=[s[0],s[1]],o[1]=[s[0]+(i*t[u+1][0]-i*t[u-1][0])/6,s[1]+(i*t[u+1][1]-i*t[u-1][1])/6],o[2]=[t[u+1][0]+(i*t[u][0]-i*t[u+2][0])/6,t[u+1][1]+(i*t[u][1]-i*t[u+2][1])/6],o[3]=[t[u+1][0],t[u+1][1]],a.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(e&&2===e.length){var l=r.maxRandomnessOffset;a.push({op:"lineTo",data:[e[0]+ft(l,r),e[1]+ft(l,r)]})}}else 3===n?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&a.push.apply(a,(0,d.Z)(pt(t[0][0],t[0][1],t[1][0],t[1][1],r)));return a}function gt(t,e,r,n,a,o,i,u){var s=[],l=[];if(0===u.roughness){t/=4,l.push([e+n*Math.cos(-t),r+a*Math.sin(-t)]);for(var c=0;c<=2*Math.PI;c+=t){var h=[e+n*Math.cos(c),r+a*Math.sin(c)];s.push(h),l.push(h)}l.push([e+n*Math.cos(0),r+a*Math.sin(0)]),l.push([e+n*Math.cos(t),r+a*Math.sin(t)])}else{var f=ft(.5,u)-Math.PI/2;l.push([ft(o,u)+e+.9*n*Math.cos(f-t),ft(o,u)+r+.9*a*Math.sin(f-t)]);for(var p=2*Math.PI+f-.01,v=f;v<p;v+=t){var d=[ft(o,u)+e+n*Math.cos(v),ft(o,u)+r+a*Math.sin(v)];s.push(d),l.push(d)}l.push([ft(o,u)+e+n*Math.cos(f+2*Math.PI+.5*i),ft(o,u)+r+a*Math.sin(f+2*Math.PI+.5*i)]),l.push([ft(o,u)+e+.98*n*Math.cos(f+i),ft(o,u)+r+.98*a*Math.sin(f+i)]),l.push([ft(o,u)+e+.9*n*Math.cos(f+.5*i),ft(o,u)+r+.9*a*Math.sin(f+.5*i)])}return[l,s]}function mt(t,e,r,n,a,o,i,u,s){var l=o+ft(.1,s),c=[];c.push([ft(u,s)+e+.9*n*Math.cos(l-t),ft(u,s)+r+.9*a*Math.sin(l-t)]);for(var h=l;h<=i;h+=t)c.push([ft(u,s)+e+n*Math.cos(h),ft(u,s)+r+a*Math.sin(h)]);return c.push([e+n*Math.cos(i),r+a*Math.sin(i)]),c.push([e+n*Math.cos(i),r+a*Math.sin(i)]),yt(c,null,s)}function bt(t,e,r,n,a,o,i,u){for(var s=[],l=[u.maxRandomnessOffset||1,(u.maxRandomnessOffset||1)+.3],c=[0,0],h=u.disableMultiStroke?1:2,f=u.preserveVertices,p=0;p<h;p++)0===p?s.push({op:"move",data:[i[0],i[1]]}):s.push({op:"move",data:[i[0]+(f?0:ft(l[0],u)),i[1]+(f?0:ft(l[0],u))]}),c=f?[a,o]:[a+ft(l[p],u),o+ft(l[p],u)],s.push({op:"bcurveTo",data:[t+ft(l[p],u),e+ft(l[p],u),r+ft(l[p],u),n+ft(l[p],u),c[0],c[1]]});return s}function kt(t){return(0,d.Z)(t)}function Mt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function xt(t,e,r){var n=Mt(e,r);if(0===n)return Mt(t,e);var a=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return Mt(t,wt(e,r,a=Math.max(0,Math.min(1,a))))}function wt(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function St(t,e,r,n){var a=n||[];if(function(t,e){var r=t[e+0],n=t[e+1],a=t[e+2],o=t[e+3],i=3*n[0]-2*r[0]-o[0];i*=i;var u=3*n[1]-2*r[1]-o[1];u*=u;var s=3*a[0]-2*o[0]-r[0];s*=s;var l=3*a[1]-2*o[1]-r[1];return i<s&&(i=s),u<(l*=l)&&(u=l),i+u}(t,e)<r){var o=t[e+0];if(a.length){var i=function(t,e){return Math.sqrt(Mt(t,e))}(a[a.length-1],o);i>1&&a.push(o)}else a.push(o);a.push(t[e+3])}else{var u=.5,s=t[e+0],l=t[e+1],c=t[e+2],h=t[e+3],f=wt(s,l,u),p=wt(l,c,u),v=wt(c,h,u),d=wt(f,p,u),y=wt(p,v,u),g=wt(d,y,u);St([s,f,d,g],0,r,a),St([g,y,v,h],0,r,a)}return a}function At(t,e){return Zt(t,0,t.length,e)}function Zt(t,e,r,n,a){for(var o=a||[],i=t[e],u=t[r-1],s=0,l=1,c=e+1;c<r-1;++c){var h=xt(t[c],i,u);h>s&&(s=h,l=c)}return Math.sqrt(s)>n?(Zt(t,e,l+1,n,o),Zt(t,l,r,n,o)):(o.length||o.push(i),o.push(u)),o}function Ot(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,r=arguments.length>2?arguments[2]:void 0,n=[],a=(t.length-1)/3,o=0;o<a;o++){var i=3*o;St(t,i,e,n)}return r&&r>0?Zt(n,0,n.length,r):n}function Pt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return It(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ct(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jt="none",Rt=function(){function t(e){(0,f.Z)(this,t),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return(0,p.Z)(t,[{key:"_o",value:function(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}},{key:"_d",value:function(t,e,r){return{shape:t,sets:e||[],options:r||this.defaultOptions}}},{key:"line",value:function(t,e,r,n,a){var o=this._o(a);return this._d("line",[tt(t,e,r,n,o)],o)}},{key:"rectangle",value:function(t,e,r,n,a){var o=this._o(a),i=[],u=rt(t,e,r,n,o);if(o.fill){var s=[[t,e],[t+r,e],[t+r,e+n],[t,e+n]];"solid"===o.fillStyle?i.push(ut([s],o)):i.push(st([s],o))}return o.stroke!==jt&&i.push(u),this._d("rectangle",i,o)}},{key:"ellipse",value:function(t,e,r,n,a){var o=this._o(a),i=[],u=at(r,n,o),s=ot(t,e,o,u);if(o.fill)if("solid"===o.fillStyle){var l=ot(t,e,o,u).opset;l.type="fillPath",i.push(l)}else i.push(st([s.estimatedPoints],o));return o.stroke!==jt&&i.push(s.opset),this._d("ellipse",i,o)}},{key:"circle",value:function(t,e,r,n){var a=this.ellipse(t,e,r,r,n);return a.shape="circle",a}},{key:"linearPath",value:function(t,e){var r=this._o(e);return this._d("linearPath",[et(t,!1,r)],r)}},{key:"arc",value:function(t,e,r,n,a,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,s=this._o(u),l=[],c=it(t,e,r,n,a,o,i,!0,s);if(i&&s.fill)if("solid"===s.fillStyle){var h=Object.assign({},s);h.disableMultiStroke=!0;var f=it(t,e,r,n,a,o,!0,!1,h);f.type="fillPath",l.push(f)}else l.push(lt(t,e,r,n,a,o,s));return s.stroke!==jt&&l.push(c),this._d("arc",l,s)}},{key:"curve",value:function(t,e){var r=this._o(e),n=[],a=nt(t,r);if(r.fill&&r.fill!==jt&&t.length>=3){var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.length;if(r<3)throw new Error("A curve must have at least three points.");var n=[];if(3===r)n.push(kt(t[0]),kt(t[1]),kt(t[2]),kt(t[2]));else{var a=[];a.push(t[0],t[0]);for(var o=1;o<t.length;o++)a.push(t[o]),o===t.length-1&&a.push(t[o]);var i=[],u=1-e;n.push(kt(a[0]));for(var s=1;s+2<a.length;s++){var l=a[s];i[0]=[l[0],l[1]],i[1]=[l[0]+(u*a[s+1][0]-u*a[s-1][0])/6,l[1]+(u*a[s+1][1]-u*a[s-1][1])/6],i[2]=[a[s+1][0]+(u*a[s][0]-u*a[s+2][0])/6,a[s+1][1]+(u*a[s][1]-u*a[s+2][1])/6],i[3]=[a[s+1][0],a[s+1][1]],n.push(i[1],i[2],i[3])}}return n}(t),i=Ot(o,10,(1+r.roughness)/2);"solid"===r.fillStyle?n.push(ut([i],r)):n.push(st([i],r))}return r.stroke!==jt&&n.push(a),this._d("curve",n,r)}},{key:"polygon",value:function(t,e){var r=this._o(e),n=[],a=et(t,!0,r);return r.fill&&("solid"===r.fillStyle?n.push(ut([t],r)):n.push(st([t],r))),r.stroke!==jt&&n.push(a),this._d("polygon",n,r)}},{key:"path",value:function(t,e){var r=this._o(e),n=[];if(!t)return this._d("path",n,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=r.fill&&"transparent"!==r.fill&&r.fill!==jt,o=r.stroke!==jt,i=!!(r.simplification&&r.simplification<1),u=function(t,e,r){var n,a=B(q(U(t))),o=[],i=[],u=[0,0],s=[],l=function(){var t;s.length>=4&&(t=i).push.apply(t,(0,d.Z)(Ot(s,e))),s=[]},c=function(){l(),i.length&&(o.push(i),i=[])},h=Pt(a);try{for(h.s();!(n=h.n()).done;){var f=n.value,p=f.key,v=f.data;switch(p){case"M":c(),u=[v[0],v[1]],i.push(u);break;case"L":l(),i.push([v[0],v[1]]);break;case"C":if(!s.length){var y=i.length?i[i.length-1]:u;s.push([y[0],y[1]])}s.push([v[0],v[1]]),s.push([v[2],v[3]]),s.push([v[4],v[5]]);break;case"Z":l(),i.push([u[0],u[1]])}}}catch(M){h.e(M)}finally{h.f()}if(c(),!r)return o;for(var g=[],m=0,b=o;m<b.length;m++){var k=At(b[m],r);k.length&&g.push(k)}return g}(t,1,i?4-4*r.simplification:(1+r.roughness)/2);return a&&("solid"===r.fillStyle?n.push(ut(u,r)):n.push(st(u,r))),o&&(i?u.forEach((function(t){n.push(et(t,!1,r))})):n.push(function(t,e){var r,n=B(q(U(t))),a=[],o=[0,0],i=[0,0],u=Q(n);try{for(u.s();!(r=u.n()).done;){var s=r.value,l=s.key,c=s.data;switch(l){case"M":if("break"===function(){var t=1*(e.maxRandomnessOffset||0),r=e.preserveVertices;return a.push({op:"move",data:c.map((function(n){return n+(r?0:ft(t,e))}))}),i=[c[0],c[1]],o=[c[0],c[1]],"break"}())break;case"L":a.push.apply(a,(0,d.Z)(pt(i[0],i[1],c[0],c[1],e))),i=[c[0],c[1]];break;case"C":var h=(0,v.Z)(c,6),f=h[0],p=h[1],y=h[2],g=h[3],m=h[4],b=h[5];a.push.apply(a,(0,d.Z)(bt(f,p,y,g,m,b,i,e))),i=[m,b];break;case"Z":a.push.apply(a,(0,d.Z)(pt(i[0],i[1],o[0],o[1],e))),i=[o[0],o[1]]}}}catch(k){u.e(k)}finally{u.f()}return{type:"path",ops:a}}(t,r))),this._d("path",n,r)}},{key:"opsToPath",value:function(t,e){var r,n="",a=Ct(t.ops);try{for(a.s();!(r=a.n()).done;){var o=r.value,i="number"==typeof e&&e>=0?o.data.map((function(t){return+t.toFixed(e)})):o.data;switch(o.op){case"move":n+="M".concat(i[0]," ").concat(i[1]," ");break;case"bcurveTo":n+="C".concat(i[0]," ").concat(i[1],", ").concat(i[2]," ").concat(i[3],", ").concat(i[4]," ").concat(i[5]," ");break;case"lineTo":n+="L".concat(i[0]," ").concat(i[1]," ")}}}catch(u){a.e(u)}finally{a.f()}return n.trim()}},{key:"toPaths",value:function(t){var e,r=t.sets||[],n=t.options||this.defaultOptions,a=[],o=Ct(r);try{for(o.s();!(e=o.n()).done;){var i=e.value,u=null;switch(i.type){case"path":u={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:jt};break;case"fillPath":u={d:this.opsToPath(i),stroke:jt,strokeWidth:0,fill:n.fill||jt};break;case"fillSketch":u=this.fillSketch(i,n)}u&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}return a}},{key:"fillSketch",value:function(t,e){var r=e.fillWeight;return r<0&&(r=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||jt,strokeWidth:r,fill:jt}}}],[{key:"newSeed",value:function(){return Math.floor(Math.random()*Math.pow(2,31))}}]),t}();function Et(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dt=function(){function t(e,r){(0,f.Z)(this,t),this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Rt(r)}return(0,p.Z)(t,[{key:"draw",value:function(t){var e,r=t.sets||[],n=t.options||this.getDefaultOptions(),a=this.ctx,o=t.options.fixedDecimalPlaceDigits,i=Et(r);try{for(i.s();!(e=i.n()).done;){var u=e.value;switch(u.type){case"path":a.save(),a.strokeStyle="none"===n.stroke?"transparent":n.stroke,a.lineWidth=n.strokeWidth,n.strokeLineDash&&a.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(a.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(a,u,o),a.restore();break;case"fillPath":a.save(),a.fillStyle=n.fill||"";var s="curve"===t.shape||"polygon"===t.shape||"path"===t.shape?"evenodd":"nonzero";this._drawToContext(a,u,o,s),a.restore();break;case"fillSketch":this.fillSketch(a,u,n)}}}catch(l){i.e(l)}finally{i.f()}}},{key:"fillSketch",value:function(t,e,r){var n=r.fillWeight;n<0&&(n=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=n,this._drawToContext(t,e,r.fixedDecimalPlaceDigits),t.restore()}},{key:"_drawToContext",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";t.beginPath();var a,o=Et(e.ops);try{for(o.s();!(a=o.n()).done;){var i=a.value,u="number"==typeof r&&r>=0?i.data.map((function(t){return+t.toFixed(r)})):i.data;switch(i.op){case"move":t.moveTo(u[0],u[1]);break;case"bcurveTo":t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"lineTo":t.lineTo(u[0],u[1])}}}catch(s){o.e(s)}finally{o.f()}"fillPath"===e.type?t.fill(n):t.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(t,e,r,n,a){var o=this.gen.line(t,e,r,n,a);return this.draw(o),o}},{key:"rectangle",value:function(t,e,r,n,a){var o=this.gen.rectangle(t,e,r,n,a);return this.draw(o),o}},{key:"ellipse",value:function(t,e,r,n,a){var o=this.gen.ellipse(t,e,r,n,a);return this.draw(o),o}},{key:"circle",value:function(t,e,r,n){var a=this.gen.circle(t,e,r,n);return this.draw(a),a}},{key:"linearPath",value:function(t,e){var r=this.gen.linearPath(t,e);return this.draw(r),r}},{key:"polygon",value:function(t,e){var r=this.gen.polygon(t,e);return this.draw(r),r}},{key:"arc",value:function(t,e,r,n,a,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(t,e,r,n,a,o,i,u);return this.draw(s),s}},{key:"curve",value:function(t,e){var r=this.gen.curve(t,e);return this.draw(r),r}},{key:"path",value:function(t,e){var r=this.gen.path(t,e);return this.draw(r),r}}]),t}();var Wt=function(t,e){var r,i,s,l=e.pixelRatio,h=void 0===l?t.pixelRatio:l,f=e.particles,p=void 0===f?t.particles:f,v=e.height,d=void 0===v?t.height:v,y=e.width,g=void 0===y?t.width:y,m=e.margin,b=void 0===m?t.margin:m,k=e.marginLeft,M=void 0===k?t.marginLeft:k,x=e.circleColor,w=void 0===x?"rgba(0,0,255,.3)":x,S=e.strokeColor,A=void 0===S?"rgba(0,0,255,1)":S,Z=e.animationDuration,O=void 0===Z?2:Z,P=e.lineWidth,I=void 0===P?0:P,C=e.padding,T=void 0===C?I:C,j=(r=t.dateSelection,i="",s=(0,n.useRef)(i),(0,n.useEffect)((function(){s.current=r})),s.current),R=(0,n.useRef)(),E=(0,n.useRef)(),L=(0,n.useRef)(),D=o.BYU().domain(o.Wem(p,(function(e){return e[t.valueSelection]}))).range([1,d/70]),W=function(t,e){return o.cJy().domain(o.Wem(p,(function(t){return t[e]}))).range([M+b,g])},_=function(t){return D(t)},z=(0,u.j)()&&o.Ys("#tooltipDivLight").style("opacity",0);var $=o.cJy().domain(o.Wem(p,(function(e){return e[t.dateSelection]}))).range([M,g-b]);function G(t,e){return"week"===t?function(t){return 0===t?"Sun":1===t?"Mon":2===t?"Tues":3===t?"Wed":4===t?"Thurs":5===t?"Fri":6===t?"Sat":t}(e):"month"===t?function(t){return 0===t?"Jan":2===t?"Feb":3===t?"Mar":4===t?"Apr":5===t?"May":6===t?"Jun":7===t?"Jul":8===t?"Aug":9===t?"Sept":10===t?"Oct":11===t?"Nov":12===t?"Dec":t}(e):e}var U=o.LLu($).ticks(5).tickFormat((function(e){return""+G(t.dateSelection,e)})),F=c(p,j,t.valueSelection,W(0,j||"year"),_,T),N=c(p,t.dateSelection,t.valueSelection,W(0,t.dateSelection),_,T),q=(0,n.useState)(R),V=q[0],Y=q[1],B=(0,n.useRef)(F);return(0,n.useEffect)((function(){if(R.current){var t=R.current,e=t.getContext("2d",{alpha:!0});e.scale(h,h),e.setTransform(h,0,0,h,0,0),e.lineWidth=I,e.fillStyle=w,e.strokeStyle=A,Y(t)}}),[R,t.width,t.height]),V.getContext&&function(){if(R.current&&B.current){var t=V,e=t.getContext("2d",{alpha:!1});_t(B.current,N,(function(){e.clearRect(0,0,g,d),o.Ys(E.current).call(U),B.current.map((function(r,n){var a=r.r>10?r.r/18:r.r>7?r.r/10:r.r/5;e.beginPath(),e.arc(r.x-b,d-r.y,r.r,0,2*Math.PI),e.fill(),zt(r.x-b,d-r.y,1.9*r.r,t,a)}))}),O,.001,"elastic.inOut(.4, .3)",(function(){}),(function(){}),j)}}(),(0,n.useMemo)((function(){if(L.current){var e=L.current,r=e.getContext("2d");r.scale(h,h),r.setTransform(h,0,0,h,0,0),r.fillStyle=w;var n=function(){return t=N,a.Z.from(t.map((function(t){return[t.x,t.y]})));var t};onscroll=function(){i()};var i=function(){r.clearRect(0,0,g,d)};onmousemove=function(a){a.preventDefault();var s,l=window.pageYOffset,c=o.cx$(a,undefined),h=c[0]+b,f=d-c[1]+l,p=h<g+b,v=n(t.dateSelection).find(h,f),y=N[v],m=y.x,k=d-y.y,M=y.data[t.valueSelection],x=y.data[t.dateSelection],w=y.data.date;p?function(e,r,n,a,o){(0,u.j)()&&z.style("opacity",1).style("display","block").style("top",r+"px").style("left",e+30-b+"px").style("z-index",5e6).html('<div class ="swarmTooltipText">\n          <div>words written: <b>'+n+"</b></div>\n          <div>"+t.dateSelection+": <b>"+G(t.dateSelection,a)+"</b></div>\n          <div><b>"+o+"</b></div>\n          </div>")}(m,k,M,x,w):(u.j&&z.style("display","none"),u.j&&z.style("opacity","0")),p?(s=y,r.clearRect(0,0,g,d),zt(s.x-b,d-s.y,2*s.r,e),r.fill()):i(y)}}}),[L,t.dateSelection,d,g]),n.createElement("div",{className:"canvasStickyChartContainer scrollySwarmContainerDrawing"},n.createElement("div",{id:"tooltipDivLight",className:"tooltipDiv"}),n.createElement("svg",{className:"canvasStickyPointHighlight",width:g,height:d}),n.createElement("canvas",{className:"canvasStickyChart",style:{width:t.width+"px",height:t.height+"px"},ref:R,width:t.width*t.pixelRatio,height:t.height*t.pixelRatio}),n.createElement("canvas",{className:"canvasStickyChart",style:{width:t.width+"px",height:t.height+"px"},ref:L,width:t.width*t.pixelRatio,height:t.height*t.pixelRatio}),n.createElement("svg",{style:{top:t.height-1},className:"canvasStickyChartAxis"},n.createElement("g",{className:"font-sans text-lg",ref:E})))},_t=function(t,e,r,n,a,o,u,s,l){return i.p8.fromTo(t,{x:function(e){return l?t[e].x:500},y:function(e){return l?t[e].y:-30}},{x:function(t){return e[t].x},y:function(t){return e[t].y},ease:l?o:"elastic.out",duration:n,onUpdate:r,data:t,lazy:!1,overwrite:!0,onComplete:u,onInterrupt:s,stagger:{each:a,from:"random"}})},zt=function(t,e,r,n,a){return new Dt(n).circle(t,e,r,{roughness:.2,move:0,stroke:"#303030",strokeWidth:a})};console.log("ROUGH",Rt,zt)}}]);
//# sourceMappingURL=82a4a9a39e7e96addb18604a1f512479495c2b93-49ee2a224691d67efd0d.js.map