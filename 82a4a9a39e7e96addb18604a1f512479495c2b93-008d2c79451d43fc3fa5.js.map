{"version":3,"file":"82a4a9a39e7e96addb18604a1f512479495c2b93-008d2c79451d43fc3fa5.js","mappings":"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","sources":["webpack://visualization-sketches/./src/components/ScrollySwarm/ScrollSwarmSterile.js","webpack://visualization-sketches/./node_modules/roughjs/bin/geometry.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/scan-line-hachure.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/hachure-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/zigzag-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/hatch-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/dot-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/dashed-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/zigzag-line-filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/fillers/filler.js","webpack://visualization-sketches/./node_modules/roughjs/bin/math.js","webpack://visualization-sketches/./node_modules/path-data-parser/lib/parser.js","webpack://visualization-sketches/./node_modules/path-data-parser/lib/absolutize.js","webpack://visualization-sketches/./node_modules/path-data-parser/lib/normalize.js","webpack://visualization-sketches/./node_modules/roughjs/bin/renderer.js","webpack://visualization-sketches/./node_modules/points-on-curve/lib/curve-to-bezier.js","webpack://visualization-sketches/./node_modules/points-on-curve/lib/index.js","webpack://visualization-sketches/./node_modules/points-on-path/lib/index.js","webpack://visualization-sketches/./node_modules/roughjs/bin/generator.js","webpack://visualization-sketches/./node_modules/roughjs/bin/canvas.js","webpack://visualization-sketches/./src/hooks/customHooks.js","webpack://visualization-sketches/./src/components/ScrollySwarm/ScrollSwarmDrawing.js","webpack://visualization-sketches/./src/utils/visualizationUtils.js"],"sourcesContent":["// To fix canvas blurryness I used this: https://stackoverflow.com/questions/48961797/canvas-circle-looks-blurry\nimport { useEffect, useRef } from \"react\";\nimport { Delaunay } from \"d3-delaunay\";\nimport * as d3 from \"d3\";\nimport React from \"react\";\nimport { gsap } from \"gsap\";\nimport { isBrowser } from \"../../utils/staticRendering\";\nimport { dodge } from \"../../utils/visualizationUtils\";\n\nconst ScrollySwarmSterile = (props) => {\n  const pixelRatio = props.pixelRatio;\n  let height = props.height;\n  let width = props.width;\n  let margin = props.margin;\n  let marginLeft = props.marginLeft;\n  let marginTop = props.marginTop;\n  let particles = props.particles;\n  let ref = useRef();\n  let highlightRef = useRef();\n  let axisRef = useRef();\n  let circleColor = \"rgba(0,0,255,.7)\"\n  let circleHighlightColor = \"rgb(255,255,255)\"\n  let strokeColor = \"rgba(0,0,0,0)\"\n  let globalOpacity = 1\n  let animationDuration = 1\n  let lineWidth = 1.4;\n  let padding = lineWidth\n\n  ////MOVE TO HOOKS\n  const usePrevious = (value, defaultRef) => {\n    const ref = useRef(defaultRef);\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  };\n\n  const prevDate = usePrevious(props.dateSelection, \"\");\n\n  let rScale = d3\n    .scaleLinear()\n    .domain(d3.extent(particles, (d) => d[props.valueSelection]))\n    .range([1, height / 80]);\n\n  let x = (incomingData, prevOrCurrent) =>\n    d3\n      .scaleSequential()\n      .domain(d3.extent(particles, (d) => d[prevOrCurrent]))\n      .range([marginLeft, width - 0]);\n\n  let r = (selectedValue) => rScale(selectedValue);\n\n  const dodgedParticlesOrigin = dodge(\n    particles,\n    prevDate,\n    props.valueSelection,\n    x(particles, prevDate),\n    r,\n    padding\n  );\n  const dodgedParticlesDestination = dodge(\n    particles,\n    props.dateSelection,\n    props.valueSelection,\n    x(particles, props.dateSelection),\n    r,\n    padding\n  );\n\n  const tooltip =\n    isBrowser() &&\n    d3\n      .select(\"#tooltipDiv\")\n      .style(\"background-color\", \"white\")\n      .style(\"border-radius\", \"2px\")\n      .style(\n        \"box-shadow\",\n        \"0 3px 6px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.4)\"\n      )\n      .style(\"opacity\", 0)\n      .style(\"padding\", \"5px\")\n      .style(\"z-index\", 1000000);\n\n  function showTooltip(\n    tooltipX,\n    tooltipY,\n    readableValue,\n    readableDate,\n    readableFullDate\n  ) {\n    isBrowser() &&\n      tooltip\n        .style(\"opacity\", 0.7)\n        .style(\"display\", \"block\")\n        .style(\"top\", tooltipY + \"px\")\n        .style(\"left\", tooltipX + 30 - margin + \"px\")\n        .style(\"z-index\", 500000)\n        .html(\n          `<div class =\"swarmTooltipText\">\n          <div>words written: <b>${readableValue}</b></div>\n          <div>${props.dateSelection}: <b>${readableDate}</b></div>\n          <div><b>${readableFullDate}</b></div>\n          </div>`\n        );\n  }\n\n  const delaunay2 = (dateString, x, y) =>\n    Delaunay.from(dodgedParticlesDestination.map((d) => [d.x, d.y]));\n\n  const xAxisScale = d3\n    .scaleSequential()\n    .domain(d3.extent(particles, (d) => d[props.dateSelection]))\n    .range([margin, width - margin]);\n\n  const xAxis = d3\n    .axisBottom(xAxisScale)\n    .ticks(5)\n    .tickFormat((d) => `${d}`);\n\n  useEffect(() => {\n    //************************************************************\n    // ***** Scale Canvas and prep\n    // ***********************************************************\n    const canvas = ref.current;\n    const context = canvas.getContext(\"2d\");\n    context.scale(pixelRatio, pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    context.globalAlpha = globalOpacity;\n    context.lineWidth = lineWidth;\n    context.fillStyle = circleColor;\n\n    //************************************************************\n    // ***** End Scale Canvas and prep\n    // ***********************************************************\n\n    const update = () => {\n      // context.fillStyle = \"rgb(226, 99, 255)\";\n      // context.fillStyle = \"rgb(65, 82, 158, 0.2)\";\n\n      context.strokeStyle = strokeColor;\n\n      const animation = () =>\n        gsap.fromTo(\n          dodgedParticlesOrigin,\n          {\n            x: (index) => dodgedParticlesOrigin[index].x,\n            y: (index) => dodgedParticlesOrigin[index].y,\n          },\n          {\n            x: (index) => dodgedParticlesDestination[index].x,\n            y: (index) => dodgedParticlesDestination[index].y,\n            // ease: \"power.3.out\",\n            duration: animationDuration,\n\n            // Documentation: https://greensock.com/docs/v3/Staggers\n            ease: \"strong.inOut\",\n            // runBackwards: true,\n            onUpdate: animate,\n\n            stagger: {\n              each: 0.0005,\n              from: \"random\",\n            },\n          }\n        );\n\n      animation();\n\n      function animate() {\n        context.restore();\n\n        context.clearRect(0, 0, width, height);\n\n        d3.select(axisRef.current).call(xAxis).transition();\n        context.beginPath();\n        dodgedParticlesOrigin.map(\n          (d, i) => (\n            context.beginPath(),\n            context.arc(d.x - margin, height - d.y, d.r, 0, 2 * Math.PI),\n            context.stroke(),\n            context.fill()\n          )\n        );\n      }\n    };\n\n    onscroll = (event) => {\n      pointHoverOut();\n    };\n\n    const pointHoverIn = (hoverActive) => {\n      let xSelection = hoverActive.x - margin;\n\n      let ySelection = hoverActive.y;\n\n      d3.select(highlightRef.current)\n        .attr(\"r\", hoverActive.r + 1)\n        .attr(\"cx\", xSelection)\n        .attr(\"cy\", height - ySelection)\n        .attr(\"fill\", circleHighlightColor)\n        .attr(\"stroke\", circleColor);\n\n    };\n\n    const pointHoverOut = () => {\n      d3.select(highlightRef.current).attr(\"r\", 0);\n    };\n\n    function hideTooltip(hoverInactive) {\n      isBrowser && tooltip.style(\"display\", \"none\");\n      isBrowser && tooltip.style(\"opacity\", \"0\");\n    }\n\n    onmousemove = (event) => {\n      event.preventDefault();\n      const pageYoffset = window.pageYOffset;\n      let mousePoint = d3.pointer(event, this);\n      let xi = mousePoint[0] + margin;\n      let y = height - mousePoint[1] + pageYoffset;\n      let heightCond = xi < width + margin;\n      let index = delaunay2(props.dateSelection).find(xi, y);\n      let indexObj = dodgedParticlesDestination[index];\n      let tooltipX = indexObj.x;\n      let tooltipY = height - indexObj.y;\n      let tooltipLegibleValue = indexObj.data[props.valueSelection];\n      let tooltipLegibleSelectedDate = indexObj.data[props.dateSelection];\n      let tooltipLegibleDate = indexObj.data.date;\n\n      heightCond\n        ? showTooltip(\n            tooltipX,\n            tooltipY,\n            tooltipLegibleValue,\n            tooltipLegibleSelectedDate,\n            tooltipLegibleDate\n          )\n        : hideTooltip(indexObj);\n\n      heightCond ? pointHoverIn(indexObj) : pointHoverOut(indexObj);\n    };\n\n    update();\n  }, [props.dateSelection, props.width, props.height, props.pixelRatio]);\n\n  return (\n    <div className=\"canvasStickyChartContainer scrollySwarmContainerSterile\">\n      <div id=\"tooltipDiv\" className=\"tooltipDiv\" />\n\n      <svg className=\"canvasStickyPointHighlight\" width={width} height={height}>\n        <circle r={0} className=\"highlightCircle\" ref={highlightRef}></circle>\n      </svg>\n      <canvas\n        className={\"canvasStickyChart\"}\n        style={{\n          width: props.width + \"px\",\n          height: props.height + \"px\",\n        }}\n        ref={ref}\n        particles={props.particles}\n        stroke={props.stroke}\n        width={props.width * props.pixelRatio}\n        height={props.height * props.pixelRatio}\n        useScrollData={props.useScrollData}\n        dateSelection={props.dateSelection}\n        valueSelection={props.valueSelection}\n        margin={props.margin}\n      />\n      <svg style={{ top: props.height - 1 }} className=\"canvasStickyChartAxis\">\n        <g className=\"lightModeAxis\" ref={axisRef}></g>\n      </svg>\n    </div>\n  );\n};\n\nexport default ScrollySwarmSterile;\n","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nexport function rotatePoints(points, center, degrees) {\n  if (points && points.length) {\n    var _center = _slicedToArray(center, 2),\n        cx = _center[0],\n        cy = _center[1];\n\n    var angle = Math.PI / 180 * degrees;\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    points.forEach(function (p) {\n      var _p = _slicedToArray(p, 2),\n          x = _p[0],\n          y = _p[1];\n\n      p[0] = (x - cx) * cos - (y - cy) * sin + cx;\n      p[1] = (x - cx) * sin + (y - cy) * cos + cy;\n    });\n  }\n}\nexport function rotateLines(lines, center, degrees) {\n  var points = [];\n  lines.forEach(function (line) {\n    return points.push.apply(points, _toConsumableArray(line));\n  });\n  rotatePoints(points, center, degrees);\n}\nexport function lineLength(line) {\n  var p1 = line[0];\n  var p2 = line[1];\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2));\n}","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { rotatePoints, rotateLines } from '../geometry';\nexport function polygonHachureLines(polygonList, o) {\n  var angle = o.hachureAngle + 90;\n  var gap = o.hachureGap;\n\n  if (gap < 0) {\n    gap = o.strokeWidth * 4;\n  }\n\n  gap = Math.max(gap, 0.1);\n  var rotationCenter = [0, 0];\n\n  if (angle) {\n    var _iterator = _createForOfIteratorHelper(polygonList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var polygon = _step.value;\n        rotatePoints(polygon, rotationCenter, angle);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  var lines = straightHachureLines(polygonList, gap);\n\n  if (angle) {\n    var _iterator2 = _createForOfIteratorHelper(polygonList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _polygon = _step2.value;\n        rotatePoints(_polygon, rotationCenter, -angle);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    rotateLines(lines, rotationCenter, -angle);\n  }\n\n  return lines;\n}\n\nfunction straightHachureLines(polygonList, gap) {\n  var vertexArray = [];\n\n  var _iterator3 = _createForOfIteratorHelper(polygonList),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var polygon = _step3.value;\n\n      var _vertices = _toConsumableArray(polygon);\n\n      if (_vertices[0].join(',') !== _vertices[_vertices.length - 1].join(',')) {\n        _vertices.push([_vertices[0][0], _vertices[0][1]]);\n      }\n\n      if (_vertices.length > 2) {\n        vertexArray.push(_vertices);\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  var lines = [];\n  gap = Math.max(gap, 0.1); // Create sorted edges table\n\n  var edges = [];\n\n  for (var _i = 0, _vertexArray = vertexArray; _i < _vertexArray.length; _i++) {\n    var vertices = _vertexArray[_i];\n\n    for (var i = 0; i < vertices.length - 1; i++) {\n      var p1 = vertices[i];\n      var p2 = vertices[i + 1];\n\n      if (p1[1] !== p2[1]) {\n        var ymin = Math.min(p1[1], p2[1]);\n        edges.push({\n          ymin: ymin,\n          ymax: Math.max(p1[1], p2[1]),\n          x: ymin === p1[1] ? p1[0] : p2[0],\n          islope: (p2[0] - p1[0]) / (p2[1] - p1[1])\n        });\n      }\n    }\n  }\n\n  edges.sort(function (e1, e2) {\n    if (e1.ymin < e2.ymin) {\n      return -1;\n    }\n\n    if (e1.ymin > e2.ymin) {\n      return 1;\n    }\n\n    if (e1.x < e2.x) {\n      return -1;\n    }\n\n    if (e1.x > e2.x) {\n      return 1;\n    }\n\n    if (e1.ymax === e2.ymax) {\n      return 0;\n    }\n\n    return (e1.ymax - e2.ymax) / Math.abs(e1.ymax - e2.ymax);\n  });\n\n  if (!edges.length) {\n    return lines;\n  } // Start scanning\n\n\n  var activeEdges = [];\n  var y = edges[0].ymin;\n\n  while (activeEdges.length || edges.length) {\n    if (edges.length) {\n      var ix = -1;\n\n      for (var _i2 = 0; _i2 < edges.length; _i2++) {\n        if (edges[_i2].ymin > y) {\n          break;\n        }\n\n        ix = _i2;\n      }\n\n      var removed = edges.splice(0, ix + 1);\n      removed.forEach(function (edge) {\n        activeEdges.push({\n          s: y,\n          edge: edge\n        });\n      });\n    }\n\n    activeEdges = activeEdges.filter(function (ae) {\n      if (ae.edge.ymax <= y) {\n        return false;\n      }\n\n      return true;\n    });\n    activeEdges.sort(function (ae1, ae2) {\n      if (ae1.edge.x === ae2.edge.x) {\n        return 0;\n      }\n\n      return (ae1.edge.x - ae2.edge.x) / Math.abs(ae1.edge.x - ae2.edge.x);\n    }); // fill between the edges\n\n    if (activeEdges.length > 1) {\n      for (var _i3 = 0; _i3 < activeEdges.length; _i3 = _i3 + 2) {\n        var nexti = _i3 + 1;\n\n        if (nexti >= activeEdges.length) {\n          break;\n        }\n\n        var ce = activeEdges[_i3].edge;\n        var ne = activeEdges[nexti].edge;\n        lines.push([[Math.round(ce.x), y], [Math.round(ne.x), y]]);\n      }\n    }\n\n    y += gap;\n    activeEdges.forEach(function (ae) {\n      ae.edge.x = ae.edge.x + gap * ae.edge.islope;\n    });\n  }\n\n  return lines;\n}","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { polygonHachureLines } from './scan-line-hachure';\nexport var HachureFiller = /*#__PURE__*/function () {\n  function HachureFiller(helper) {\n    _classCallCheck(this, HachureFiller);\n\n    this.helper = helper;\n  }\n\n  _createClass(HachureFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      return this._fillPolygons(polygonList, o);\n    }\n  }, {\n    key: \"_fillPolygons\",\n    value: function _fillPolygons(polygonList, o) {\n      var lines = polygonHachureLines(polygonList, o);\n      var ops = this.renderLines(lines, o);\n      return {\n        type: 'fillSketch',\n        ops: ops\n      };\n    }\n  }, {\n    key: \"renderLines\",\n    value: function renderLines(lines, o) {\n      var ops = [];\n\n      var _iterator = _createForOfIteratorHelper(lines),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var line = _step.value;\n          ops.push.apply(ops, _toConsumableArray(this.helper.doubleLineOps(line[0][0], line[0][1], line[1][0], line[1][1], o)));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return ops;\n    }\n  }]);\n\n  return HachureFiller;\n}();","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { HachureFiller } from './hachure-filler';\nimport { polygonHachureLines } from './scan-line-hachure';\nimport { lineLength } from '../geometry';\nexport var ZigZagFiller = /*#__PURE__*/function (_HachureFiller) {\n  _inherits(ZigZagFiller, _HachureFiller);\n\n  var _super = _createSuper(ZigZagFiller);\n\n  function ZigZagFiller() {\n    _classCallCheck(this, ZigZagFiller);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ZigZagFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      var gap = o.hachureGap;\n\n      if (gap < 0) {\n        gap = o.strokeWidth * 4;\n      }\n\n      gap = Math.max(gap, 0.1);\n      var o2 = Object.assign({}, o, {\n        hachureGap: gap\n      });\n      var lines = polygonHachureLines(polygonList, o2);\n      var zigZagAngle = Math.PI / 180 * o.hachureAngle;\n      var zigzagLines = [];\n      var dgx = gap * 0.5 * Math.cos(zigZagAngle);\n      var dgy = gap * 0.5 * Math.sin(zigZagAngle);\n\n      var _iterator = _createForOfIteratorHelper(lines),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              p1 = _step$value[0],\n              p2 = _step$value[1];\n\n          if (lineLength([p1, p2])) {\n            zigzagLines.push([[p1[0] - dgx, p1[1] + dgy], _toConsumableArray(p2)], [[p1[0] + dgx, p1[1] - dgy], _toConsumableArray(p2)]);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var ops = this.renderLines(zigzagLines, o);\n      return {\n        type: 'fillSketch',\n        ops: ops\n      };\n    }\n  }]);\n\n  return ZigZagFiller;\n}(HachureFiller);","import _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { HachureFiller } from './hachure-filler';\nexport var HatchFiller = /*#__PURE__*/function (_HachureFiller) {\n  _inherits(HatchFiller, _HachureFiller);\n\n  var _super = _createSuper(HatchFiller);\n\n  function HatchFiller() {\n    _classCallCheck(this, HatchFiller);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HatchFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      var set = this._fillPolygons(polygonList, o);\n\n      var o2 = Object.assign({}, o, {\n        hachureAngle: o.hachureAngle + 90\n      });\n\n      var set2 = this._fillPolygons(polygonList, o2);\n\n      set.ops = set.ops.concat(set2.ops);\n      return set;\n    }\n  }]);\n\n  return HatchFiller;\n}(HachureFiller);","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport var DotFiller = /*#__PURE__*/function () {\n  function DotFiller(helper) {\n    _classCallCheck(this, DotFiller);\n\n    this.helper = helper;\n  }\n\n  _createClass(DotFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      o = Object.assign({}, o, {\n        hachureAngle: 0\n      });\n      var lines = polygonHachureLines(polygonList, o);\n      return this.dotsOnLines(lines, o);\n    }\n  }, {\n    key: \"dotsOnLines\",\n    value: function dotsOnLines(lines, o) {\n      var ops = [];\n      var gap = o.hachureGap;\n\n      if (gap < 0) {\n        gap = o.strokeWidth * 4;\n      }\n\n      gap = Math.max(gap, 0.1);\n      var fweight = o.fillWeight;\n\n      if (fweight < 0) {\n        fweight = o.strokeWidth / 2;\n      }\n\n      var ro = gap / 4;\n\n      var _iterator = _createForOfIteratorHelper(lines),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var line = _step.value;\n          var length = lineLength(line);\n          var dl = length / gap;\n          var count = Math.ceil(dl) - 1;\n          var offset = length - count * gap;\n          var x = (line[0][0] + line[1][0]) / 2 - gap / 4;\n          var minY = Math.min(line[0][1], line[1][1]);\n\n          for (var i = 0; i < count; i++) {\n            var y = minY + offset + i * gap;\n            var cx = x - ro + Math.random() * 2 * ro;\n            var cy = y - ro + Math.random() * 2 * ro;\n            var el = this.helper.ellipse(cx, cy, fweight, fweight, o);\n            ops.push.apply(ops, _toConsumableArray(el.ops));\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        type: 'fillSketch',\n        ops: ops\n      };\n    }\n  }]);\n\n  return DotFiller;\n}();","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport var DashedFiller = /*#__PURE__*/function () {\n  function DashedFiller(helper) {\n    _classCallCheck(this, DashedFiller);\n\n    this.helper = helper;\n  }\n\n  _createClass(DashedFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      var lines = polygonHachureLines(polygonList, o);\n      return {\n        type: 'fillSketch',\n        ops: this.dashedLine(lines, o)\n      };\n    }\n  }, {\n    key: \"dashedLine\",\n    value: function dashedLine(lines, o) {\n      var _this = this;\n\n      var offset = o.dashOffset < 0 ? o.hachureGap < 0 ? o.strokeWidth * 4 : o.hachureGap : o.dashOffset;\n      var gap = o.dashGap < 0 ? o.hachureGap < 0 ? o.strokeWidth * 4 : o.hachureGap : o.dashGap;\n      var ops = [];\n      lines.forEach(function (line) {\n        var length = lineLength(line);\n        var count = Math.floor(length / (offset + gap));\n        var startOffset = (length + gap - count * (offset + gap)) / 2;\n        var p1 = line[0];\n        var p2 = line[1];\n\n        if (p1[0] > p2[0]) {\n          p1 = line[1];\n          p2 = line[0];\n        }\n\n        var alpha = Math.atan((p2[1] - p1[1]) / (p2[0] - p1[0]));\n\n        for (var i = 0; i < count; i++) {\n          var lstart = i * (offset + gap);\n          var lend = lstart + offset;\n          var start = [p1[0] + lstart * Math.cos(alpha) + startOffset * Math.cos(alpha), p1[1] + lstart * Math.sin(alpha) + startOffset * Math.sin(alpha)];\n          var end = [p1[0] + lend * Math.cos(alpha) + startOffset * Math.cos(alpha), p1[1] + lend * Math.sin(alpha) + startOffset * Math.sin(alpha)];\n          ops.push.apply(ops, _toConsumableArray(_this.helper.doubleLineOps(start[0], start[1], end[0], end[1], o)));\n        }\n      });\n      return ops;\n    }\n  }]);\n\n  return DashedFiller;\n}();","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { lineLength } from '../geometry';\nimport { polygonHachureLines } from './scan-line-hachure';\nexport var ZigZagLineFiller = /*#__PURE__*/function () {\n  function ZigZagLineFiller(helper) {\n    _classCallCheck(this, ZigZagLineFiller);\n\n    this.helper = helper;\n  }\n\n  _createClass(ZigZagLineFiller, [{\n    key: \"fillPolygons\",\n    value: function fillPolygons(polygonList, o) {\n      var gap = o.hachureGap < 0 ? o.strokeWidth * 4 : o.hachureGap;\n      var zo = o.zigzagOffset < 0 ? gap : o.zigzagOffset;\n      o = Object.assign({}, o, {\n        hachureGap: gap + zo\n      });\n      var lines = polygonHachureLines(polygonList, o);\n      return {\n        type: 'fillSketch',\n        ops: this.zigzagLines(lines, zo, o)\n      };\n    }\n  }, {\n    key: \"zigzagLines\",\n    value: function zigzagLines(lines, zo, o) {\n      var _this = this;\n\n      var ops = [];\n      lines.forEach(function (line) {\n        var length = lineLength(line);\n        var count = Math.round(length / (2 * zo));\n        var p1 = line[0];\n        var p2 = line[1];\n\n        if (p1[0] > p2[0]) {\n          p1 = line[1];\n          p2 = line[0];\n        }\n\n        var alpha = Math.atan((p2[1] - p1[1]) / (p2[0] - p1[0]));\n\n        for (var i = 0; i < count; i++) {\n          var lstart = i * 2 * zo;\n          var lend = (i + 1) * 2 * zo;\n          var dz = Math.sqrt(2 * Math.pow(zo, 2));\n          var start = [p1[0] + lstart * Math.cos(alpha), p1[1] + lstart * Math.sin(alpha)];\n          var end = [p1[0] + lend * Math.cos(alpha), p1[1] + lend * Math.sin(alpha)];\n          var middle = [start[0] + dz * Math.cos(alpha + Math.PI / 4), start[1] + dz * Math.sin(alpha + Math.PI / 4)];\n          ops.push.apply(ops, _toConsumableArray(_this.helper.doubleLineOps(start[0], start[1], middle[0], middle[1], o)).concat(_toConsumableArray(_this.helper.doubleLineOps(middle[0], middle[1], end[0], end[1], o))));\n        }\n      });\n      return ops;\n    }\n  }]);\n\n  return ZigZagLineFiller;\n}();","import { HachureFiller } from './hachure-filler';\nimport { ZigZagFiller } from './zigzag-filler';\nimport { HatchFiller } from './hatch-filler';\nimport { DotFiller } from './dot-filler';\nimport { DashedFiller } from './dashed-filler';\nimport { ZigZagLineFiller } from './zigzag-line-filler';\nvar fillers = {};\nexport function getFiller(o, helper) {\n  var fillerName = o.fillStyle || 'hachure';\n\n  if (!fillers[fillerName]) {\n    switch (fillerName) {\n      case 'zigzag':\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new ZigZagFiller(helper);\n        }\n\n        break;\n\n      case 'cross-hatch':\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new HatchFiller(helper);\n        }\n\n        break;\n\n      case 'dots':\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new DotFiller(helper);\n        }\n\n        break;\n\n      case 'dashed':\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new DashedFiller(helper);\n        }\n\n        break;\n\n      case 'zigzag-line':\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new ZigZagLineFiller(helper);\n        }\n\n        break;\n\n      case 'hachure':\n      default:\n        fillerName = 'hachure';\n\n        if (!fillers[fillerName]) {\n          fillers[fillerName] = new HachureFiller(helper);\n        }\n\n        break;\n    }\n  }\n\n  return fillers[fillerName];\n}","import _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nexport function randomSeed() {\n  return Math.floor(Math.random() * Math.pow(2, 31));\n}\nexport var Random = /*#__PURE__*/function () {\n  function Random(seed) {\n    _classCallCheck(this, Random);\n\n    this.seed = seed;\n  }\n\n  _createClass(Random, [{\n    key: \"next\",\n    value: function next() {\n      if (this.seed) {\n        return (Math.pow(2, 31) - 1 & (this.seed = Math.imul(48271, this.seed))) / Math.pow(2, 31);\n      } else {\n        return Math.random();\n      }\n    }\n  }]);\n\n  return Random;\n}();","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar COMMAND = 0;\nvar NUMBER = 1;\nvar EOD = 2;\nvar PARAMS = {\n  A: 7,\n  a: 7,\n  C: 6,\n  c: 6,\n  H: 1,\n  h: 1,\n  L: 2,\n  l: 2,\n  M: 2,\n  m: 2,\n  Q: 4,\n  q: 4,\n  S: 4,\n  s: 4,\n  T: 2,\n  t: 2,\n  V: 1,\n  v: 1,\n  Z: 0,\n  z: 0\n};\n\nfunction tokenize(d) {\n  var tokens = new Array();\n\n  while (d !== '') {\n    if (d.match(/^([ \\t\\r\\n,]+)/)) {\n      d = d.substr(RegExp.$1.length);\n    } else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {\n      tokens[tokens.length] = {\n        type: COMMAND,\n        text: RegExp.$1\n      };\n      d = d.substr(RegExp.$1.length);\n    } else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {\n      tokens[tokens.length] = {\n        type: NUMBER,\n        text: \"\".concat(parseFloat(RegExp.$1))\n      };\n      d = d.substr(RegExp.$1.length);\n    } else {\n      return [];\n    }\n  }\n\n  tokens[tokens.length] = {\n    type: EOD,\n    text: ''\n  };\n  return tokens;\n}\n\nfunction isType(token, type) {\n  return token.type === type;\n}\n\nexport function parsePath(d) {\n  var segments = [];\n  var tokens = tokenize(d);\n  var mode = 'BOD';\n  var index = 0;\n  var token = tokens[index];\n\n  while (!isType(token, EOD)) {\n    var paramsCount = 0;\n    var params = [];\n\n    if (mode === 'BOD') {\n      if (token.text === 'M' || token.text === 'm') {\n        index++;\n        paramsCount = PARAMS[token.text];\n        mode = token.text;\n      } else {\n        return parsePath('M0,0' + d);\n      }\n    } else if (isType(token, NUMBER)) {\n      paramsCount = PARAMS[mode];\n    } else {\n      index++;\n      paramsCount = PARAMS[token.text];\n      mode = token.text;\n    }\n\n    if (index + paramsCount < tokens.length) {\n      for (var i = index; i < index + paramsCount; i++) {\n        var numbeToken = tokens[i];\n\n        if (isType(numbeToken, NUMBER)) {\n          params[params.length] = +numbeToken.text;\n        } else {\n          throw new Error('Param not a number: ' + mode + ',' + numbeToken.text);\n        }\n      }\n\n      if (typeof PARAMS[mode] === 'number') {\n        var segment = {\n          key: mode,\n          data: params\n        };\n        segments.push(segment);\n        index += paramsCount;\n        token = tokens[index];\n        if (mode === 'M') mode = 'L';\n        if (mode === 'm') mode = 'l';\n      } else {\n        throw new Error('Bad segment: ' + mode);\n      }\n    } else {\n      throw new Error('Path data ended short');\n    }\n  }\n\n  return segments;\n}\nexport function serialize(segments) {\n  var tokens = [];\n\n  var _iterator = _createForOfIteratorHelper(segments),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n          key = _step$value.key,\n          data = _step$value.data;\n      tokens.push(key);\n\n      switch (key) {\n        case 'C':\n        case 'c':\n          tokens.push(data[0], \"\".concat(data[1], \",\"), data[2], \"\".concat(data[3], \",\"), data[4], data[5]);\n          break;\n\n        case 'S':\n        case 's':\n        case 'Q':\n        case 'q':\n          tokens.push(data[0], \"\".concat(data[1], \",\"), data[2], data[3]);\n          break;\n\n        default:\n          tokens.push.apply(tokens, _toConsumableArray(data));\n          break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return tokens.join(' ');\n}","import _slicedToArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// Translate relative commands to absolute commands\nexport function absolutize(segments) {\n  var cx = 0,\n      cy = 0;\n  var subx = 0,\n      suby = 0;\n  var out = [];\n\n  var _iterator = _createForOfIteratorHelper(segments),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n          key = _step$value.key,\n          data = _step$value.data;\n\n      switch (key) {\n        case 'M':\n          out.push({\n            key: 'M',\n            data: _toConsumableArray(data)\n          });\n\n          var _data = _slicedToArray(data, 2);\n\n          cx = _data[0];\n          cy = _data[1];\n\n          var _data2 = _slicedToArray(data, 2);\n\n          subx = _data2[0];\n          suby = _data2[1];\n          break;\n\n        case 'm':\n          cx += data[0];\n          cy += data[1];\n          out.push({\n            key: 'M',\n            data: [cx, cy]\n          });\n          subx = cx;\n          suby = cy;\n          break;\n\n        case 'L':\n          out.push({\n            key: 'L',\n            data: _toConsumableArray(data)\n          });\n\n          var _data3 = _slicedToArray(data, 2);\n\n          cx = _data3[0];\n          cy = _data3[1];\n          break;\n\n        case 'l':\n          cx += data[0];\n          cy += data[1];\n          out.push({\n            key: 'L',\n            data: [cx, cy]\n          });\n          break;\n\n        case 'C':\n          out.push({\n            key: 'C',\n            data: _toConsumableArray(data)\n          });\n          cx = data[4];\n          cy = data[5];\n          break;\n\n        case 'c':\n          {\n            var newdata = data.map(function (d, i) {\n              return i % 2 ? d + cy : d + cx;\n            });\n            out.push({\n              key: 'C',\n              data: newdata\n            });\n            cx = newdata[4];\n            cy = newdata[5];\n            break;\n          }\n\n        case 'Q':\n          out.push({\n            key: 'Q',\n            data: _toConsumableArray(data)\n          });\n          cx = data[2];\n          cy = data[3];\n          break;\n\n        case 'q':\n          {\n            var _newdata = data.map(function (d, i) {\n              return i % 2 ? d + cy : d + cx;\n            });\n\n            out.push({\n              key: 'Q',\n              data: _newdata\n            });\n            cx = _newdata[2];\n            cy = _newdata[3];\n            break;\n          }\n\n        case 'A':\n          out.push({\n            key: 'A',\n            data: _toConsumableArray(data)\n          });\n          cx = data[5];\n          cy = data[6];\n          break;\n\n        case 'a':\n          cx += data[5];\n          cy += data[6];\n          out.push({\n            key: 'A',\n            data: [data[0], data[1], data[2], data[3], data[4], cx, cy]\n          });\n          break;\n\n        case 'H':\n          out.push({\n            key: 'H',\n            data: _toConsumableArray(data)\n          });\n          cx = data[0];\n          break;\n\n        case 'h':\n          cx += data[0];\n          out.push({\n            key: 'H',\n            data: [cx]\n          });\n          break;\n\n        case 'V':\n          out.push({\n            key: 'V',\n            data: _toConsumableArray(data)\n          });\n          cy = data[0];\n          break;\n\n        case 'v':\n          cy += data[0];\n          out.push({\n            key: 'V',\n            data: [cy]\n          });\n          break;\n\n        case 'S':\n          out.push({\n            key: 'S',\n            data: _toConsumableArray(data)\n          });\n          cx = data[2];\n          cy = data[3];\n          break;\n\n        case 's':\n          {\n            var _newdata2 = data.map(function (d, i) {\n              return i % 2 ? d + cy : d + cx;\n            });\n\n            out.push({\n              key: 'S',\n              data: _newdata2\n            });\n            cx = _newdata2[2];\n            cy = _newdata2[3];\n            break;\n          }\n\n        case 'T':\n          out.push({\n            key: 'T',\n            data: _toConsumableArray(data)\n          });\n          cx = data[0];\n          cy = data[1];\n          break;\n\n        case 't':\n          cx += data[0];\n          cy += data[1];\n          out.push({\n            key: 'T',\n            data: [cx, cy]\n          });\n          break;\n\n        case 'Z':\n        case 'z':\n          out.push({\n            key: 'Z',\n            data: []\n          });\n          cx = subx;\n          cy = suby;\n          break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return out;\n}","import _slicedToArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// Normalize path to include only M, L, C, and Z commands\nexport function normalize(segments) {\n  var out = [];\n  var lastType = '';\n  var cx = 0,\n      cy = 0;\n  var subx = 0,\n      suby = 0;\n  var lcx = 0,\n      lcy = 0;\n\n  var _iterator = _createForOfIteratorHelper(segments),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n          key = _step$value.key,\n          data = _step$value.data;\n\n      switch (key) {\n        case 'M':\n          out.push({\n            key: 'M',\n            data: _toConsumableArray(data)\n          });\n\n          var _data = _slicedToArray(data, 2);\n\n          cx = _data[0];\n          cy = _data[1];\n\n          var _data2 = _slicedToArray(data, 2);\n\n          subx = _data2[0];\n          suby = _data2[1];\n          break;\n\n        case 'C':\n          out.push({\n            key: 'C',\n            data: _toConsumableArray(data)\n          });\n          cx = data[4];\n          cy = data[5];\n          lcx = data[2];\n          lcy = data[3];\n          break;\n\n        case 'L':\n          out.push({\n            key: 'L',\n            data: _toConsumableArray(data)\n          });\n\n          var _data3 = _slicedToArray(data, 2);\n\n          cx = _data3[0];\n          cy = _data3[1];\n          break;\n\n        case 'H':\n          cx = data[0];\n          out.push({\n            key: 'L',\n            data: [cx, cy]\n          });\n          break;\n\n        case 'V':\n          cy = data[0];\n          out.push({\n            key: 'L',\n            data: [cx, cy]\n          });\n          break;\n\n        case 'S':\n          {\n            var cx1 = 0,\n                cy1 = 0;\n\n            if (lastType === 'C' || lastType === 'S') {\n              cx1 = cx + (cx - lcx);\n              cy1 = cy + (cy - lcy);\n            } else {\n              cx1 = cx;\n              cy1 = cy;\n            }\n\n            out.push({\n              key: 'C',\n              data: [cx1, cy1].concat(_toConsumableArray(data))\n            });\n            lcx = data[0];\n            lcy = data[1];\n            cx = data[2];\n            cy = data[3];\n            break;\n          }\n\n        case 'T':\n          {\n            var _data4 = _slicedToArray(data, 2),\n                x = _data4[0],\n                y = _data4[1];\n\n            var x1 = 0,\n                y1 = 0;\n\n            if (lastType === 'Q' || lastType === 'T') {\n              x1 = cx + (cx - lcx);\n              y1 = cy + (cy - lcy);\n            } else {\n              x1 = cx;\n              y1 = cy;\n            }\n\n            var _cx = cx + 2 * (x1 - cx) / 3;\n\n            var _cy = cy + 2 * (y1 - cy) / 3;\n\n            var cx2 = x + 2 * (x1 - x) / 3;\n            var cy2 = y + 2 * (y1 - y) / 3;\n            out.push({\n              key: 'C',\n              data: [_cx, _cy, cx2, cy2, x, y]\n            });\n            lcx = x1;\n            lcy = y1;\n            cx = x;\n            cy = y;\n            break;\n          }\n\n        case 'Q':\n          {\n            var _data5 = _slicedToArray(data, 4),\n                _x = _data5[0],\n                _y = _data5[1],\n                _x2 = _data5[2],\n                _y2 = _data5[3];\n\n            var _cx2 = cx + 2 * (_x - cx) / 3;\n\n            var _cy2 = cy + 2 * (_y - cy) / 3;\n\n            var _cx3 = _x2 + 2 * (_x - _x2) / 3;\n\n            var _cy3 = _y2 + 2 * (_y - _y2) / 3;\n\n            out.push({\n              key: 'C',\n              data: [_cx2, _cy2, _cx3, _cy3, _x2, _y2]\n            });\n            lcx = _x;\n            lcy = _y;\n            cx = _x2;\n            cy = _y2;\n            break;\n          }\n\n        case 'A':\n          {\n            var r1 = Math.abs(data[0]);\n            var r2 = Math.abs(data[1]);\n            var angle = data[2];\n            var largeArcFlag = data[3];\n            var sweepFlag = data[4];\n            var _x3 = data[5];\n            var _y3 = data[6];\n\n            if (r1 === 0 || r2 === 0) {\n              out.push({\n                key: 'C',\n                data: [cx, cy, _x3, _y3, _x3, _y3]\n              });\n              cx = _x3;\n              cy = _y3;\n            } else {\n              if (cx !== _x3 || cy !== _y3) {\n                var curves = arcToCubicCurves(cx, cy, _x3, _y3, r1, r2, angle, largeArcFlag, sweepFlag);\n                curves.forEach(function (curve) {\n                  out.push({\n                    key: 'C',\n                    data: curve\n                  });\n                });\n                cx = _x3;\n                cy = _y3;\n              }\n            }\n\n            break;\n          }\n\n        case 'Z':\n          out.push({\n            key: 'Z',\n            data: []\n          });\n          cx = subx;\n          cy = suby;\n          break;\n      }\n\n      lastType = key;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return out;\n}\n\nfunction degToRad(degrees) {\n  return Math.PI * degrees / 180;\n}\n\nfunction rotate(x, y, angleRad) {\n  var X = x * Math.cos(angleRad) - y * Math.sin(angleRad);\n  var Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);\n  return [X, Y];\n}\n\nfunction arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {\n  var angleRad = degToRad(angle);\n  var params = [];\n  var f1 = 0,\n      f2 = 0,\n      cx = 0,\n      cy = 0;\n\n  if (recursive) {\n    var _recursive = _slicedToArray(recursive, 4);\n\n    f1 = _recursive[0];\n    f2 = _recursive[1];\n    cx = _recursive[2];\n    cy = _recursive[3];\n  } else {\n    var _rotate = rotate(x1, y1, -angleRad);\n\n    var _rotate2 = _slicedToArray(_rotate, 2);\n\n    x1 = _rotate2[0];\n    y1 = _rotate2[1];\n\n    var _rotate3 = rotate(x2, y2, -angleRad);\n\n    var _rotate4 = _slicedToArray(_rotate3, 2);\n\n    x2 = _rotate4[0];\n    y2 = _rotate4[1];\n    var x = (x1 - x2) / 2;\n    var y = (y1 - y2) / 2;\n    var h = x * x / (r1 * r1) + y * y / (r2 * r2);\n\n    if (h > 1) {\n      h = Math.sqrt(h);\n      r1 = h * r1;\n      r2 = h * r2;\n    }\n\n    var sign = largeArcFlag === sweepFlag ? -1 : 1;\n    var r1Pow = r1 * r1;\n    var r2Pow = r2 * r2;\n    var left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;\n    var right = r1Pow * y * y + r2Pow * x * x;\n    var k = sign * Math.sqrt(Math.abs(left / right));\n    cx = k * r1 * y / r2 + (x1 + x2) / 2;\n    cy = k * -r2 * x / r1 + (y1 + y2) / 2;\n    f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));\n    f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));\n\n    if (x1 < cx) {\n      f1 = Math.PI - f1;\n    }\n\n    if (x2 < cx) {\n      f2 = Math.PI - f2;\n    }\n\n    if (f1 < 0) {\n      f1 = Math.PI * 2 + f1;\n    }\n\n    if (f2 < 0) {\n      f2 = Math.PI * 2 + f2;\n    }\n\n    if (sweepFlag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n\n    if (!sweepFlag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  }\n\n  var df = f2 - f1;\n\n  if (Math.abs(df) > Math.PI * 120 / 180) {\n    var f2old = f2;\n    var x2old = x2;\n    var y2old = y2;\n\n    if (sweepFlag && f2 > f1) {\n      f2 = f1 + Math.PI * 120 / 180 * 1;\n    } else {\n      f2 = f1 + Math.PI * 120 / 180 * -1;\n    }\n\n    x2 = cx + r1 * Math.cos(f2);\n    y2 = cy + r2 * Math.sin(f2);\n    params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n  var c1 = Math.cos(f1);\n  var s1 = Math.sin(f1);\n  var c2 = Math.cos(f2);\n  var s2 = Math.sin(f2);\n  var t = Math.tan(df / 4);\n  var hx = 4 / 3 * r1 * t;\n  var hy = 4 / 3 * r2 * t;\n  var m1 = [x1, y1];\n  var m2 = [x1 + hx * s1, y1 - hy * c1];\n  var m3 = [x2 + hx * s2, y2 - hy * c2];\n  var m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(params);\n  } else {\n    params = [m2, m3, m4].concat(params);\n    var curves = [];\n\n    for (var i = 0; i < params.length; i += 3) {\n      var _r = rotate(params[i][0], params[i][1], angleRad);\n\n      var _r2 = rotate(params[i + 1][0], params[i + 1][1], angleRad);\n\n      var r3 = rotate(params[i + 2][0], params[i + 2][1], angleRad);\n      curves.push([_r[0], _r[1], _r2[0], _r2[1], r3[0], r3[1]]);\n    }\n\n    return curves;\n  }\n}","import _slicedToArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { getFiller } from './fillers/filler.js';\nimport { Random } from './math.js';\nimport { parsePath, normalize, absolutize } from 'path-data-parser';\nvar helper = {\n  randOffset: randOffset,\n  randOffsetWithRange: randOffsetWithRange,\n  ellipse: ellipse,\n  doubleLineOps: doubleLineFillOps\n};\nexport function line(x1, y1, x2, y2, o) {\n  return {\n    type: 'path',\n    ops: _doubleLine(x1, y1, x2, y2, o)\n  };\n}\nexport function linearPath(points, close, o) {\n  var len = (points || []).length;\n\n  if (len > 2) {\n    var ops = [];\n\n    for (var i = 0; i < len - 1; i++) {\n      ops.push.apply(ops, _toConsumableArray(_doubleLine(points[i][0], points[i][1], points[i + 1][0], points[i + 1][1], o)));\n    }\n\n    if (close) {\n      ops.push.apply(ops, _toConsumableArray(_doubleLine(points[len - 1][0], points[len - 1][1], points[0][0], points[0][1], o)));\n    }\n\n    return {\n      type: 'path',\n      ops: ops\n    };\n  } else if (len === 2) {\n    return line(points[0][0], points[0][1], points[1][0], points[1][1], o);\n  }\n\n  return {\n    type: 'path',\n    ops: []\n  };\n}\nexport function polygon(points, o) {\n  return linearPath(points, true, o);\n}\nexport function rectangle(x, y, width, height, o) {\n  var points = [[x, y], [x + width, y], [x + width, y + height], [x, y + height]];\n  return polygon(points, o);\n}\nexport function curve(points, o) {\n  var o1 = _curveWithOffset(points, 1 * (1 + o.roughness * 0.2), o);\n\n  if (!o.disableMultiStroke) {\n    var o2 = _curveWithOffset(points, 1.5 * (1 + o.roughness * 0.22), cloneOptionsAlterSeed(o));\n\n    o1 = o1.concat(o2);\n  }\n\n  return {\n    type: 'path',\n    ops: o1\n  };\n}\nexport function ellipse(x, y, width, height, o) {\n  var params = generateEllipseParams(width, height, o);\n  return ellipseWithParams(x, y, o, params).opset;\n}\nexport function generateEllipseParams(width, height, o) {\n  var psq = Math.sqrt(Math.PI * 2 * Math.sqrt((Math.pow(width / 2, 2) + Math.pow(height / 2, 2)) / 2));\n  var stepCount = Math.ceil(Math.max(o.curveStepCount, o.curveStepCount / Math.sqrt(200) * psq));\n  var increment = Math.PI * 2 / stepCount;\n  var rx = Math.abs(width / 2);\n  var ry = Math.abs(height / 2);\n  var curveFitRandomness = 1 - o.curveFitting;\n  rx += _offsetOpt(rx * curveFitRandomness, o);\n  ry += _offsetOpt(ry * curveFitRandomness, o);\n  return {\n    increment: increment,\n    rx: rx,\n    ry: ry\n  };\n}\nexport function ellipseWithParams(x, y, o, ellipseParams) {\n  var _computeEllipsePoints2 = _computeEllipsePoints(ellipseParams.increment, x, y, ellipseParams.rx, ellipseParams.ry, 1, ellipseParams.increment * _offset(0.1, _offset(0.4, 1, o), o), o),\n      _computeEllipsePoints3 = _slicedToArray(_computeEllipsePoints2, 2),\n      ap1 = _computeEllipsePoints3[0],\n      cp1 = _computeEllipsePoints3[1];\n\n  var o1 = _curve(ap1, null, o);\n\n  if (!o.disableMultiStroke && o.roughness !== 0) {\n    var _computeEllipsePoints4 = _computeEllipsePoints(ellipseParams.increment, x, y, ellipseParams.rx, ellipseParams.ry, 1.5, 0, o),\n        _computeEllipsePoints5 = _slicedToArray(_computeEllipsePoints4, 1),\n        ap2 = _computeEllipsePoints5[0];\n\n    var o2 = _curve(ap2, null, o);\n\n    o1 = o1.concat(o2);\n  }\n\n  return {\n    estimatedPoints: cp1,\n    opset: {\n      type: 'path',\n      ops: o1\n    }\n  };\n}\nexport function arc(x, y, width, height, start, stop, closed, roughClosure, o) {\n  var cx = x;\n  var cy = y;\n  var rx = Math.abs(width / 2);\n  var ry = Math.abs(height / 2);\n  rx += _offsetOpt(rx * 0.01, o);\n  ry += _offsetOpt(ry * 0.01, o);\n  var strt = start;\n  var stp = stop;\n\n  while (strt < 0) {\n    strt += Math.PI * 2;\n    stp += Math.PI * 2;\n  }\n\n  if (stp - strt > Math.PI * 2) {\n    strt = 0;\n    stp = Math.PI * 2;\n  }\n\n  var ellipseInc = Math.PI * 2 / o.curveStepCount;\n  var arcInc = Math.min(ellipseInc / 2, (stp - strt) / 2);\n\n  var ops = _arc(arcInc, cx, cy, rx, ry, strt, stp, 1, o);\n\n  if (!o.disableMultiStroke) {\n    var o2 = _arc(arcInc, cx, cy, rx, ry, strt, stp, 1.5, o);\n\n    ops.push.apply(ops, _toConsumableArray(o2));\n  }\n\n  if (closed) {\n    if (roughClosure) {\n      ops.push.apply(ops, _toConsumableArray(_doubleLine(cx, cy, cx + rx * Math.cos(strt), cy + ry * Math.sin(strt), o)).concat(_toConsumableArray(_doubleLine(cx, cy, cx + rx * Math.cos(stp), cy + ry * Math.sin(stp), o))));\n    } else {\n      ops.push({\n        op: 'lineTo',\n        data: [cx, cy]\n      }, {\n        op: 'lineTo',\n        data: [cx + rx * Math.cos(strt), cy + ry * Math.sin(strt)]\n      });\n    }\n  }\n\n  return {\n    type: 'path',\n    ops: ops\n  };\n}\nexport function svgPath(path, o) {\n  var segments = normalize(absolutize(parsePath(path)));\n  var ops = [];\n  var first = [0, 0];\n  var current = [0, 0];\n\n  var _iterator = _createForOfIteratorHelper(segments),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n          key = _step$value.key,\n          data = _step$value.data;\n\n      switch (key) {\n        case 'M':\n          {\n            var _ret = function () {\n              var ro = 1 * (o.maxRandomnessOffset || 0);\n              var pv = o.preserveVertices;\n              ops.push({\n                op: 'move',\n                data: data.map(function (d) {\n                  return d + (pv ? 0 : _offsetOpt(ro, o));\n                })\n              });\n              current = [data[0], data[1]];\n              first = [data[0], data[1]];\n              return \"break\";\n            }();\n\n            if (_ret === \"break\") break;\n          }\n\n        case 'L':\n          ops.push.apply(ops, _toConsumableArray(_doubleLine(current[0], current[1], data[0], data[1], o)));\n          current = [data[0], data[1]];\n          break;\n\n        case 'C':\n          {\n            var _data = _slicedToArray(data, 6),\n                x1 = _data[0],\n                y1 = _data[1],\n                x2 = _data[2],\n                y2 = _data[3],\n                x = _data[4],\n                y = _data[5];\n\n            ops.push.apply(ops, _toConsumableArray(_bezierTo(x1, y1, x2, y2, x, y, current, o)));\n            current = [x, y];\n            break;\n          }\n\n        case 'Z':\n          ops.push.apply(ops, _toConsumableArray(_doubleLine(current[0], current[1], first[0], first[1], o)));\n          current = [first[0], first[1]];\n          break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return {\n    type: 'path',\n    ops: ops\n  };\n} // Fills\n\nexport function solidFillPolygon(polygonList, o) {\n  var ops = [];\n\n  var _iterator2 = _createForOfIteratorHelper(polygonList),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var points = _step2.value;\n\n      if (points.length) {\n        var offset = o.maxRandomnessOffset || 0;\n        var len = points.length;\n\n        if (len > 2) {\n          ops.push({\n            op: 'move',\n            data: [points[0][0] + _offsetOpt(offset, o), points[0][1] + _offsetOpt(offset, o)]\n          });\n\n          for (var i = 1; i < len; i++) {\n            ops.push({\n              op: 'lineTo',\n              data: [points[i][0] + _offsetOpt(offset, o), points[i][1] + _offsetOpt(offset, o)]\n            });\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return {\n    type: 'fillPath',\n    ops: ops\n  };\n}\nexport function patternFillPolygons(polygonList, o) {\n  return getFiller(o, helper).fillPolygons(polygonList, o);\n}\nexport function patternFillArc(x, y, width, height, start, stop, o) {\n  var cx = x;\n  var cy = y;\n  var rx = Math.abs(width / 2);\n  var ry = Math.abs(height / 2);\n  rx += _offsetOpt(rx * 0.01, o);\n  ry += _offsetOpt(ry * 0.01, o);\n  var strt = start;\n  var stp = stop;\n\n  while (strt < 0) {\n    strt += Math.PI * 2;\n    stp += Math.PI * 2;\n  }\n\n  if (stp - strt > Math.PI * 2) {\n    strt = 0;\n    stp = Math.PI * 2;\n  }\n\n  var increment = (stp - strt) / o.curveStepCount;\n  var points = [];\n\n  for (var angle = strt; angle <= stp; angle = angle + increment) {\n    points.push([cx + rx * Math.cos(angle), cy + ry * Math.sin(angle)]);\n  }\n\n  points.push([cx + rx * Math.cos(stp), cy + ry * Math.sin(stp)]);\n  points.push([cx, cy]);\n  return patternFillPolygons([points], o);\n}\nexport function randOffset(x, o) {\n  return _offsetOpt(x, o);\n}\nexport function randOffsetWithRange(min, max, o) {\n  return _offset(min, max, o);\n}\nexport function doubleLineFillOps(x1, y1, x2, y2, o) {\n  return _doubleLine(x1, y1, x2, y2, o, true);\n} // Private helpers\n\nfunction cloneOptionsAlterSeed(ops) {\n  var result = Object.assign({}, ops);\n  result.randomizer = undefined;\n\n  if (ops.seed) {\n    result.seed = ops.seed + 1;\n  }\n\n  return result;\n}\n\nfunction random(ops) {\n  if (!ops.randomizer) {\n    ops.randomizer = new Random(ops.seed || 0);\n  }\n\n  return ops.randomizer.next();\n}\n\nfunction _offset(min, max, ops) {\n  var roughnessGain = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return ops.roughness * roughnessGain * (random(ops) * (max - min) + min);\n}\n\nfunction _offsetOpt(x, ops) {\n  var roughnessGain = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return _offset(-x, x, ops, roughnessGain);\n}\n\nfunction _doubleLine(x1, y1, x2, y2, o) {\n  var filling = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var singleStroke = filling ? o.disableMultiStrokeFill : o.disableMultiStroke;\n\n  var o1 = _line(x1, y1, x2, y2, o, true, false);\n\n  if (singleStroke) {\n    return o1;\n  }\n\n  var o2 = _line(x1, y1, x2, y2, o, true, true);\n\n  return o1.concat(o2);\n}\n\nfunction _line(x1, y1, x2, y2, o, move, overlay) {\n  var lengthSq = Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2);\n  var length = Math.sqrt(lengthSq);\n  var roughnessGain = 1;\n\n  if (length < 200) {\n    roughnessGain = 1;\n  } else if (length > 500) {\n    roughnessGain = 0.4;\n  } else {\n    roughnessGain = -0.0016668 * length + 1.233334;\n  }\n\n  var offset = o.maxRandomnessOffset || 0;\n\n  if (offset * offset * 100 > lengthSq) {\n    offset = length / 10;\n  }\n\n  var halfOffset = offset / 2;\n  var divergePoint = 0.2 + random(o) * 0.2;\n  var midDispX = o.bowing * o.maxRandomnessOffset * (y2 - y1) / 200;\n  var midDispY = o.bowing * o.maxRandomnessOffset * (x1 - x2) / 200;\n  midDispX = _offsetOpt(midDispX, o, roughnessGain);\n  midDispY = _offsetOpt(midDispY, o, roughnessGain);\n  var ops = [];\n\n  var randomHalf = function randomHalf() {\n    return _offsetOpt(halfOffset, o, roughnessGain);\n  };\n\n  var randomFull = function randomFull() {\n    return _offsetOpt(offset, o, roughnessGain);\n  };\n\n  var preserveVertices = o.preserveVertices;\n\n  if (move) {\n    if (overlay) {\n      ops.push({\n        op: 'move',\n        data: [x1 + (preserveVertices ? 0 : randomHalf()), y1 + (preserveVertices ? 0 : randomHalf())]\n      });\n    } else {\n      ops.push({\n        op: 'move',\n        data: [x1 + (preserveVertices ? 0 : _offsetOpt(offset, o, roughnessGain)), y1 + (preserveVertices ? 0 : _offsetOpt(offset, o, roughnessGain))]\n      });\n    }\n  }\n\n  if (overlay) {\n    ops.push({\n      op: 'bcurveTo',\n      data: [midDispX + x1 + (x2 - x1) * divergePoint + randomHalf(), midDispY + y1 + (y2 - y1) * divergePoint + randomHalf(), midDispX + x1 + 2 * (x2 - x1) * divergePoint + randomHalf(), midDispY + y1 + 2 * (y2 - y1) * divergePoint + randomHalf(), x2 + (preserveVertices ? 0 : randomHalf()), y2 + (preserveVertices ? 0 : randomHalf())]\n    });\n  } else {\n    ops.push({\n      op: 'bcurveTo',\n      data: [midDispX + x1 + (x2 - x1) * divergePoint + randomFull(), midDispY + y1 + (y2 - y1) * divergePoint + randomFull(), midDispX + x1 + 2 * (x2 - x1) * divergePoint + randomFull(), midDispY + y1 + 2 * (y2 - y1) * divergePoint + randomFull(), x2 + (preserveVertices ? 0 : randomFull()), y2 + (preserveVertices ? 0 : randomFull())]\n    });\n  }\n\n  return ops;\n}\n\nfunction _curveWithOffset(points, offset, o) {\n  var ps = [];\n  ps.push([points[0][0] + _offsetOpt(offset, o), points[0][1] + _offsetOpt(offset, o)]);\n  ps.push([points[0][0] + _offsetOpt(offset, o), points[0][1] + _offsetOpt(offset, o)]);\n\n  for (var i = 1; i < points.length; i++) {\n    ps.push([points[i][0] + _offsetOpt(offset, o), points[i][1] + _offsetOpt(offset, o)]);\n\n    if (i === points.length - 1) {\n      ps.push([points[i][0] + _offsetOpt(offset, o), points[i][1] + _offsetOpt(offset, o)]);\n    }\n  }\n\n  return _curve(ps, null, o);\n}\n\nfunction _curve(points, closePoint, o) {\n  var len = points.length;\n  var ops = [];\n\n  if (len > 3) {\n    var b = [];\n    var s = 1 - o.curveTightness;\n    ops.push({\n      op: 'move',\n      data: [points[1][0], points[1][1]]\n    });\n\n    for (var i = 1; i + 2 < len; i++) {\n      var cachedVertArray = points[i];\n      b[0] = [cachedVertArray[0], cachedVertArray[1]];\n      b[1] = [cachedVertArray[0] + (s * points[i + 1][0] - s * points[i - 1][0]) / 6, cachedVertArray[1] + (s * points[i + 1][1] - s * points[i - 1][1]) / 6];\n      b[2] = [points[i + 1][0] + (s * points[i][0] - s * points[i + 2][0]) / 6, points[i + 1][1] + (s * points[i][1] - s * points[i + 2][1]) / 6];\n      b[3] = [points[i + 1][0], points[i + 1][1]];\n      ops.push({\n        op: 'bcurveTo',\n        data: [b[1][0], b[1][1], b[2][0], b[2][1], b[3][0], b[3][1]]\n      });\n    }\n\n    if (closePoint && closePoint.length === 2) {\n      var ro = o.maxRandomnessOffset;\n      ops.push({\n        op: 'lineTo',\n        data: [closePoint[0] + _offsetOpt(ro, o), closePoint[1] + _offsetOpt(ro, o)]\n      });\n    }\n  } else if (len === 3) {\n    ops.push({\n      op: 'move',\n      data: [points[1][0], points[1][1]]\n    });\n    ops.push({\n      op: 'bcurveTo',\n      data: [points[1][0], points[1][1], points[2][0], points[2][1], points[2][0], points[2][1]]\n    });\n  } else if (len === 2) {\n    ops.push.apply(ops, _toConsumableArray(_doubleLine(points[0][0], points[0][1], points[1][0], points[1][1], o)));\n  }\n\n  return ops;\n}\n\nfunction _computeEllipsePoints(increment, cx, cy, rx, ry, offset, overlap, o) {\n  var coreOnly = o.roughness === 0;\n  var corePoints = [];\n  var allPoints = [];\n\n  if (coreOnly) {\n    increment = increment / 4;\n    allPoints.push([cx + rx * Math.cos(-increment), cy + ry * Math.sin(-increment)]);\n\n    for (var angle = 0; angle <= Math.PI * 2; angle = angle + increment) {\n      var p = [cx + rx * Math.cos(angle), cy + ry * Math.sin(angle)];\n      corePoints.push(p);\n      allPoints.push(p);\n    }\n\n    allPoints.push([cx + rx * Math.cos(0), cy + ry * Math.sin(0)]);\n    allPoints.push([cx + rx * Math.cos(increment), cy + ry * Math.sin(increment)]);\n  } else {\n    var radOffset = _offsetOpt(0.5, o) - Math.PI / 2;\n    allPoints.push([_offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset - increment), _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset - increment)]);\n    var endAngle = Math.PI * 2 + radOffset - 0.01;\n\n    for (var _angle = radOffset; _angle < endAngle; _angle = _angle + increment) {\n      var _p = [_offsetOpt(offset, o) + cx + rx * Math.cos(_angle), _offsetOpt(offset, o) + cy + ry * Math.sin(_angle)];\n      corePoints.push(_p);\n      allPoints.push(_p);\n    }\n\n    allPoints.push([_offsetOpt(offset, o) + cx + rx * Math.cos(radOffset + Math.PI * 2 + overlap * 0.5), _offsetOpt(offset, o) + cy + ry * Math.sin(radOffset + Math.PI * 2 + overlap * 0.5)]);\n    allPoints.push([_offsetOpt(offset, o) + cx + 0.98 * rx * Math.cos(radOffset + overlap), _offsetOpt(offset, o) + cy + 0.98 * ry * Math.sin(radOffset + overlap)]);\n    allPoints.push([_offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset + overlap * 0.5), _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset + overlap * 0.5)]);\n  }\n\n  return [allPoints, corePoints];\n}\n\nfunction _arc(increment, cx, cy, rx, ry, strt, stp, offset, o) {\n  var radOffset = strt + _offsetOpt(0.1, o);\n\n  var points = [];\n  points.push([_offsetOpt(offset, o) + cx + 0.9 * rx * Math.cos(radOffset - increment), _offsetOpt(offset, o) + cy + 0.9 * ry * Math.sin(radOffset - increment)]);\n\n  for (var angle = radOffset; angle <= stp; angle = angle + increment) {\n    points.push([_offsetOpt(offset, o) + cx + rx * Math.cos(angle), _offsetOpt(offset, o) + cy + ry * Math.sin(angle)]);\n  }\n\n  points.push([cx + rx * Math.cos(stp), cy + ry * Math.sin(stp)]);\n  points.push([cx + rx * Math.cos(stp), cy + ry * Math.sin(stp)]);\n  return _curve(points, null, o);\n}\n\nfunction _bezierTo(x1, y1, x2, y2, x, y, current, o) {\n  var ops = [];\n  var ros = [o.maxRandomnessOffset || 1, (o.maxRandomnessOffset || 1) + 0.3];\n  var f = [0, 0];\n  var iterations = o.disableMultiStroke ? 1 : 2;\n  var preserveVertices = o.preserveVertices;\n\n  for (var i = 0; i < iterations; i++) {\n    if (i === 0) {\n      ops.push({\n        op: 'move',\n        data: [current[0], current[1]]\n      });\n    } else {\n      ops.push({\n        op: 'move',\n        data: [current[0] + (preserveVertices ? 0 : _offsetOpt(ros[0], o)), current[1] + (preserveVertices ? 0 : _offsetOpt(ros[0], o))]\n      });\n    }\n\n    f = preserveVertices ? [x, y] : [x + _offsetOpt(ros[i], o), y + _offsetOpt(ros[i], o)];\n    ops.push({\n      op: 'bcurveTo',\n      data: [x1 + _offsetOpt(ros[i], o), y1 + _offsetOpt(ros[i], o), x2 + _offsetOpt(ros[i], o), y2 + _offsetOpt(ros[i], o), f[0], f[1]]\n    });\n  }\n\n  return ops;\n}","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction clone(p) {\n  return _toConsumableArray(p);\n}\n\nexport function curveToBezier(pointsIn) {\n  var curveTightness = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var len = pointsIn.length;\n\n  if (len < 3) {\n    throw new Error('A curve must have at least three points.');\n  }\n\n  var out = [];\n\n  if (len === 3) {\n    out.push(clone(pointsIn[0]), clone(pointsIn[1]), clone(pointsIn[2]), clone(pointsIn[2]));\n  } else {\n    var points = [];\n    points.push(pointsIn[0], pointsIn[0]);\n\n    for (var i = 1; i < pointsIn.length; i++) {\n      points.push(pointsIn[i]);\n\n      if (i === pointsIn.length - 1) {\n        points.push(pointsIn[i]);\n      }\n    }\n\n    var b = [];\n    var s = 1 - curveTightness;\n    out.push(clone(points[0]));\n\n    for (var _i = 1; _i + 2 < points.length; _i++) {\n      var cachedVertArray = points[_i];\n      b[0] = [cachedVertArray[0], cachedVertArray[1]];\n      b[1] = [cachedVertArray[0] + (s * points[_i + 1][0] - s * points[_i - 1][0]) / 6, cachedVertArray[1] + (s * points[_i + 1][1] - s * points[_i - 1][1]) / 6];\n      b[2] = [points[_i + 1][0] + (s * points[_i][0] - s * points[_i + 2][0]) / 6, points[_i + 1][1] + (s * points[_i][1] - s * points[_i + 2][1]) / 6];\n      b[3] = [points[_i + 1][0], points[_i + 1][1]];\n      out.push(b[1], b[2], b[3]);\n    }\n  }\n\n  return out;\n}","// distance between 2 points\nfunction distance(p1, p2) {\n  return Math.sqrt(distanceSq(p1, p2));\n} // distance between 2 points squared\n\n\nfunction distanceSq(p1, p2) {\n  return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);\n} // Sistance squared from a point p to the line segment vw\n\n\nfunction distanceToSegmentSq(p, v, w) {\n  var l2 = distanceSq(v, w);\n\n  if (l2 === 0) {\n    return distanceSq(p, v);\n  }\n\n  var t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;\n  t = Math.max(0, Math.min(1, t));\n  return distanceSq(p, lerp(v, w, t));\n}\n\nfunction lerp(a, b, t) {\n  return [a[0] + (b[0] - a[0]) * t, a[1] + (b[1] - a[1]) * t];\n} // Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/\n\n\nfunction flatness(points, offset) {\n  var p1 = points[offset + 0];\n  var p2 = points[offset + 1];\n  var p3 = points[offset + 2];\n  var p4 = points[offset + 3];\n  var ux = 3 * p2[0] - 2 * p1[0] - p4[0];\n  ux *= ux;\n  var uy = 3 * p2[1] - 2 * p1[1] - p4[1];\n  uy *= uy;\n  var vx = 3 * p3[0] - 2 * p4[0] - p1[0];\n  vx *= vx;\n  var vy = 3 * p3[1] - 2 * p4[1] - p1[1];\n  vy *= vy;\n\n  if (ux < vx) {\n    ux = vx;\n  }\n\n  if (uy < vy) {\n    uy = vy;\n  }\n\n  return ux + uy;\n}\n\nfunction getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {\n  var outPoints = newPoints || [];\n\n  if (flatness(points, offset) < tolerance) {\n    var p0 = points[offset + 0];\n\n    if (outPoints.length) {\n      var d = distance(outPoints[outPoints.length - 1], p0);\n\n      if (d > 1) {\n        outPoints.push(p0);\n      }\n    } else {\n      outPoints.push(p0);\n    }\n\n    outPoints.push(points[offset + 3]);\n  } else {\n    // subdivide\n    var t = .5;\n    var p1 = points[offset + 0];\n    var p2 = points[offset + 1];\n    var p3 = points[offset + 2];\n    var p4 = points[offset + 3];\n    var q1 = lerp(p1, p2, t);\n    var q2 = lerp(p2, p3, t);\n    var q3 = lerp(p3, p4, t);\n    var r1 = lerp(q1, q2, t);\n    var r2 = lerp(q2, q3, t);\n    var red = lerp(r1, r2, t);\n    getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);\n    getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);\n  }\n\n  return outPoints;\n}\n\nexport function simplify(points, distance) {\n  return simplifyPoints(points, 0, points.length, distance);\n} // RamerDouglasPeucker algorithm\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\n\nfunction simplifyPoints(points, start, end, epsilon, newPoints) {\n  var outPoints = newPoints || []; // find the most distance point from the endpoints\n\n  var s = points[start];\n  var e = points[end - 1];\n  var maxDistSq = 0;\n  var maxNdx = 1;\n\n  for (var i = start + 1; i < end - 1; ++i) {\n    var distSq = distanceToSegmentSq(points[i], s, e);\n\n    if (distSq > maxDistSq) {\n      maxDistSq = distSq;\n      maxNdx = i;\n    }\n  } // if that point is too far, split\n\n\n  if (Math.sqrt(maxDistSq) > epsilon) {\n    simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);\n    simplifyPoints(points, maxNdx, end, epsilon, outPoints);\n  } else {\n    if (!outPoints.length) {\n      outPoints.push(s);\n    }\n\n    outPoints.push(e);\n  }\n\n  return outPoints;\n}\n\nexport function pointsOnBezierCurves(points) {\n  var tolerance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;\n  var distance = arguments.length > 2 ? arguments[2] : undefined;\n  var newPoints = [];\n  var numSegments = (points.length - 1) / 3;\n\n  for (var i = 0; i < numSegments; i++) {\n    var offset = i * 3;\n    getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);\n  }\n\n  if (distance && distance > 0) {\n    return simplifyPoints(newPoints, 0, newPoints.length, distance);\n  }\n\n  return newPoints;\n}","import _toConsumableArray from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { pointsOnBezierCurves, simplify } from 'points-on-curve';\nimport { parsePath, absolutize, normalize } from 'path-data-parser';\nexport function pointsOnPath(path, tolerance, distance) {\n  var segments = parsePath(path);\n  var normalized = normalize(absolutize(segments));\n  var sets = [];\n  var currentPoints = [];\n  var start = [0, 0];\n  var pendingCurve = [];\n\n  var appendPendingCurve = function appendPendingCurve() {\n    if (pendingCurve.length >= 4) {\n      var _currentPoints;\n\n      (_currentPoints = currentPoints).push.apply(_currentPoints, _toConsumableArray(pointsOnBezierCurves(pendingCurve, tolerance)));\n    }\n\n    pendingCurve = [];\n  };\n\n  var appendPendingPoints = function appendPendingPoints() {\n    appendPendingCurve();\n\n    if (currentPoints.length) {\n      sets.push(currentPoints);\n      currentPoints = [];\n    }\n  };\n\n  var _iterator = _createForOfIteratorHelper(normalized),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n          key = _step$value.key,\n          data = _step$value.data;\n\n      switch (key) {\n        case 'M':\n          appendPendingPoints();\n          start = [data[0], data[1]];\n          currentPoints.push(start);\n          break;\n\n        case 'L':\n          appendPendingCurve();\n          currentPoints.push([data[0], data[1]]);\n          break;\n\n        case 'C':\n          if (!pendingCurve.length) {\n            var lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;\n            pendingCurve.push([lastPoint[0], lastPoint[1]]);\n          }\n\n          pendingCurve.push([data[0], data[1]]);\n          pendingCurve.push([data[2], data[3]]);\n          pendingCurve.push([data[4], data[5]]);\n          break;\n\n        case 'Z':\n          appendPendingCurve();\n          currentPoints.push([start[0], start[1]]);\n          break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  appendPendingPoints();\n\n  if (!distance) {\n    return sets;\n  }\n\n  var out = [];\n\n  for (var _i = 0, _sets = sets; _i < _sets.length; _i++) {\n    var set = _sets[_i];\n    var simplifiedSet = simplify(set, distance);\n\n    if (simplifiedSet.length) {\n      out.push(simplifiedSet);\n    }\n  }\n\n  return out;\n}","import _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { line as _line, solidFillPolygon, patternFillPolygons, rectangle as _rectangle, ellipseWithParams, generateEllipseParams, linearPath as _linearPath, arc as _arc, patternFillArc, curve as _curve, svgPath } from './renderer.js';\nimport { randomSeed } from './math.js';\nimport { curveToBezier } from 'points-on-curve/lib/curve-to-bezier.js';\nimport { pointsOnBezierCurves } from 'points-on-curve';\nimport { pointsOnPath } from 'points-on-path';\nvar NOS = 'none';\nexport var RoughGenerator = /*#__PURE__*/function () {\n  function RoughGenerator(config) {\n    _classCallCheck(this, RoughGenerator);\n\n    this.defaultOptions = {\n      maxRandomnessOffset: 2,\n      roughness: 1,\n      bowing: 1,\n      stroke: '#000',\n      strokeWidth: 1,\n      curveTightness: 0,\n      curveFitting: 0.95,\n      curveStepCount: 9,\n      fillStyle: 'hachure',\n      fillWeight: -1,\n      hachureAngle: -41,\n      hachureGap: -1,\n      dashOffset: -1,\n      dashGap: -1,\n      zigzagOffset: -1,\n      seed: 0,\n      disableMultiStroke: false,\n      disableMultiStrokeFill: false,\n      preserveVertices: false\n    };\n    this.config = config || {};\n\n    if (this.config.options) {\n      this.defaultOptions = this._o(this.config.options);\n    }\n  }\n\n  _createClass(RoughGenerator, [{\n    key: \"_o\",\n    value: function _o(options) {\n      return options ? Object.assign({}, this.defaultOptions, options) : this.defaultOptions;\n    }\n  }, {\n    key: \"_d\",\n    value: function _d(shape, sets, options) {\n      return {\n        shape: shape,\n        sets: sets || [],\n        options: options || this.defaultOptions\n      };\n    }\n  }, {\n    key: \"line\",\n    value: function line(x1, y1, x2, y2, options) {\n      var o = this._o(options);\n\n      return this._d('line', [_line(x1, y1, x2, y2, o)], o);\n    }\n  }, {\n    key: \"rectangle\",\n    value: function rectangle(x, y, width, height, options) {\n      var o = this._o(options);\n\n      var paths = [];\n\n      var outline = _rectangle(x, y, width, height, o);\n\n      if (o.fill) {\n        var points = [[x, y], [x + width, y], [x + width, y + height], [x, y + height]];\n\n        if (o.fillStyle === 'solid') {\n          paths.push(solidFillPolygon([points], o));\n        } else {\n          paths.push(patternFillPolygons([points], o));\n        }\n      }\n\n      if (o.stroke !== NOS) {\n        paths.push(outline);\n      }\n\n      return this._d('rectangle', paths, o);\n    }\n  }, {\n    key: \"ellipse\",\n    value: function ellipse(x, y, width, height, options) {\n      var o = this._o(options);\n\n      var paths = [];\n      var ellipseParams = generateEllipseParams(width, height, o);\n      var ellipseResponse = ellipseWithParams(x, y, o, ellipseParams);\n\n      if (o.fill) {\n        if (o.fillStyle === 'solid') {\n          var shape = ellipseWithParams(x, y, o, ellipseParams).opset;\n          shape.type = 'fillPath';\n          paths.push(shape);\n        } else {\n          paths.push(patternFillPolygons([ellipseResponse.estimatedPoints], o));\n        }\n      }\n\n      if (o.stroke !== NOS) {\n        paths.push(ellipseResponse.opset);\n      }\n\n      return this._d('ellipse', paths, o);\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(x, y, diameter, options) {\n      var ret = this.ellipse(x, y, diameter, diameter, options);\n      ret.shape = 'circle';\n      return ret;\n    }\n  }, {\n    key: \"linearPath\",\n    value: function linearPath(points, options) {\n      var o = this._o(options);\n\n      return this._d('linearPath', [_linearPath(points, false, o)], o);\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, width, height, start, stop) {\n      var closed = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n      var options = arguments.length > 7 ? arguments[7] : undefined;\n\n      var o = this._o(options);\n\n      var paths = [];\n\n      var outline = _arc(x, y, width, height, start, stop, closed, true, o);\n\n      if (closed && o.fill) {\n        if (o.fillStyle === 'solid') {\n          var fillOptions = Object.assign({}, o);\n          fillOptions.disableMultiStroke = true;\n\n          var shape = _arc(x, y, width, height, start, stop, true, false, fillOptions);\n\n          shape.type = 'fillPath';\n          paths.push(shape);\n        } else {\n          paths.push(patternFillArc(x, y, width, height, start, stop, o));\n        }\n      }\n\n      if (o.stroke !== NOS) {\n        paths.push(outline);\n      }\n\n      return this._d('arc', paths, o);\n    }\n  }, {\n    key: \"curve\",\n    value: function curve(points, options) {\n      var o = this._o(options);\n\n      var paths = [];\n\n      var outline = _curve(points, o);\n\n      if (o.fill && o.fill !== NOS && points.length >= 3) {\n        var bcurve = curveToBezier(points);\n        var polyPoints = pointsOnBezierCurves(bcurve, 10, (1 + o.roughness) / 2);\n\n        if (o.fillStyle === 'solid') {\n          paths.push(solidFillPolygon([polyPoints], o));\n        } else {\n          paths.push(patternFillPolygons([polyPoints], o));\n        }\n      }\n\n      if (o.stroke !== NOS) {\n        paths.push(outline);\n      }\n\n      return this._d('curve', paths, o);\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(points, options) {\n      var o = this._o(options);\n\n      var paths = [];\n\n      var outline = _linearPath(points, true, o);\n\n      if (o.fill) {\n        if (o.fillStyle === 'solid') {\n          paths.push(solidFillPolygon([points], o));\n        } else {\n          paths.push(patternFillPolygons([points], o));\n        }\n      }\n\n      if (o.stroke !== NOS) {\n        paths.push(outline);\n      }\n\n      return this._d('polygon', paths, o);\n    }\n  }, {\n    key: \"path\",\n    value: function path(d, options) {\n      var o = this._o(options);\n\n      var paths = [];\n\n      if (!d) {\n        return this._d('path', paths, o);\n      }\n\n      d = (d || '').replace(/\\n/g, ' ').replace(/(-\\s)/g, '-').replace('/(\\s\\s)/g', ' ');\n      var hasFill = o.fill && o.fill !== 'transparent' && o.fill !== NOS;\n      var hasStroke = o.stroke !== NOS;\n      var simplified = !!(o.simplification && o.simplification < 1);\n      var distance = simplified ? 4 - 4 * o.simplification : (1 + o.roughness) / 2;\n      var sets = pointsOnPath(d, 1, distance);\n\n      if (hasFill) {\n        if (o.fillStyle === 'solid') {\n          paths.push(solidFillPolygon(sets, o));\n        } else {\n          paths.push(patternFillPolygons(sets, o));\n        }\n      }\n\n      if (hasStroke) {\n        if (simplified) {\n          sets.forEach(function (set) {\n            paths.push(_linearPath(set, false, o));\n          });\n        } else {\n          paths.push(svgPath(d, o));\n        }\n      }\n\n      return this._d('path', paths, o);\n    }\n  }, {\n    key: \"opsToPath\",\n    value: function opsToPath(drawing, fixedDecimals) {\n      var path = '';\n\n      var _iterator = _createForOfIteratorHelper(drawing.ops),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          var data = typeof fixedDecimals === 'number' && fixedDecimals >= 0 ? item.data.map(function (d) {\n            return +d.toFixed(fixedDecimals);\n          }) : item.data;\n\n          switch (item.op) {\n            case 'move':\n              path += \"M\".concat(data[0], \" \").concat(data[1], \" \");\n              break;\n\n            case 'bcurveTo':\n              path += \"C\".concat(data[0], \" \").concat(data[1], \", \").concat(data[2], \" \").concat(data[3], \", \").concat(data[4], \" \").concat(data[5], \" \");\n              break;\n\n            case 'lineTo':\n              path += \"L\".concat(data[0], \" \").concat(data[1], \" \");\n              break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return path.trim();\n    }\n  }, {\n    key: \"toPaths\",\n    value: function toPaths(drawable) {\n      var sets = drawable.sets || [];\n      var o = drawable.options || this.defaultOptions;\n      var paths = [];\n\n      var _iterator2 = _createForOfIteratorHelper(sets),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var drawing = _step2.value;\n          var path = null;\n\n          switch (drawing.type) {\n            case 'path':\n              path = {\n                d: this.opsToPath(drawing),\n                stroke: o.stroke,\n                strokeWidth: o.strokeWidth,\n                fill: NOS\n              };\n              break;\n\n            case 'fillPath':\n              path = {\n                d: this.opsToPath(drawing),\n                stroke: NOS,\n                strokeWidth: 0,\n                fill: o.fill || NOS\n              };\n              break;\n\n            case 'fillSketch':\n              path = this.fillSketch(drawing, o);\n              break;\n          }\n\n          if (path) {\n            paths.push(path);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return paths;\n    }\n  }, {\n    key: \"fillSketch\",\n    value: function fillSketch(drawing, o) {\n      var fweight = o.fillWeight;\n\n      if (fweight < 0) {\n        fweight = o.strokeWidth / 2;\n      }\n\n      return {\n        d: this.opsToPath(drawing),\n        stroke: o.fill || NOS,\n        strokeWidth: fweight,\n        fill: NOS\n      };\n    }\n  }], [{\n    key: \"newSeed\",\n    value: function newSeed() {\n      return randomSeed();\n    }\n  }]);\n\n  return RoughGenerator;\n}();","import _classCallCheck from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ryezupancis/Documents/projects/visualization-sketches/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { RoughGenerator } from './generator';\nexport var RoughCanvas = /*#__PURE__*/function () {\n  function RoughCanvas(canvas, config) {\n    _classCallCheck(this, RoughCanvas);\n\n    this.canvas = canvas;\n    this.ctx = this.canvas.getContext('2d');\n    this.gen = new RoughGenerator(config);\n  }\n\n  _createClass(RoughCanvas, [{\n    key: \"draw\",\n    value: function draw(drawable) {\n      var sets = drawable.sets || [];\n      var o = drawable.options || this.getDefaultOptions();\n      var ctx = this.ctx;\n      var precision = drawable.options.fixedDecimalPlaceDigits;\n\n      var _iterator = _createForOfIteratorHelper(sets),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var drawing = _step.value;\n\n          switch (drawing.type) {\n            case 'path':\n              ctx.save();\n              ctx.strokeStyle = o.stroke === 'none' ? 'transparent' : o.stroke;\n              ctx.lineWidth = o.strokeWidth;\n\n              if (o.strokeLineDash) {\n                ctx.setLineDash(o.strokeLineDash);\n              }\n\n              if (o.strokeLineDashOffset) {\n                ctx.lineDashOffset = o.strokeLineDashOffset;\n              }\n\n              this._drawToContext(ctx, drawing, precision);\n\n              ctx.restore();\n              break;\n\n            case 'fillPath':\n              {\n                ctx.save();\n                ctx.fillStyle = o.fill || '';\n                var fillRule = drawable.shape === 'curve' || drawable.shape === 'polygon' || drawable.shape === 'path' ? 'evenodd' : 'nonzero';\n\n                this._drawToContext(ctx, drawing, precision, fillRule);\n\n                ctx.restore();\n                break;\n              }\n\n            case 'fillSketch':\n              this.fillSketch(ctx, drawing, o);\n              break;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"fillSketch\",\n    value: function fillSketch(ctx, drawing, o) {\n      var fweight = o.fillWeight;\n\n      if (fweight < 0) {\n        fweight = o.strokeWidth / 2;\n      }\n\n      ctx.save();\n\n      if (o.fillLineDash) {\n        ctx.setLineDash(o.fillLineDash);\n      }\n\n      if (o.fillLineDashOffset) {\n        ctx.lineDashOffset = o.fillLineDashOffset;\n      }\n\n      ctx.strokeStyle = o.fill || '';\n      ctx.lineWidth = fweight;\n\n      this._drawToContext(ctx, drawing, o.fixedDecimalPlaceDigits);\n\n      ctx.restore();\n    }\n  }, {\n    key: \"_drawToContext\",\n    value: function _drawToContext(ctx, drawing, fixedDecimals) {\n      var rule = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'nonzero';\n      ctx.beginPath();\n\n      var _iterator2 = _createForOfIteratorHelper(drawing.ops),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var item = _step2.value;\n          var data = typeof fixedDecimals === 'number' && fixedDecimals >= 0 ? item.data.map(function (d) {\n            return +d.toFixed(fixedDecimals);\n          }) : item.data;\n\n          switch (item.op) {\n            case 'move':\n              ctx.moveTo(data[0], data[1]);\n              break;\n\n            case 'bcurveTo':\n              ctx.bezierCurveTo(data[0], data[1], data[2], data[3], data[4], data[5]);\n              break;\n\n            case 'lineTo':\n              ctx.lineTo(data[0], data[1]);\n              break;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (drawing.type === 'fillPath') {\n        ctx.fill(rule);\n      } else {\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"generator\",\n    get: function get() {\n      return this.gen;\n    }\n  }, {\n    key: \"getDefaultOptions\",\n    value: function getDefaultOptions() {\n      return this.gen.defaultOptions;\n    }\n  }, {\n    key: \"line\",\n    value: function line(x1, y1, x2, y2, options) {\n      var d = this.gen.line(x1, y1, x2, y2, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"rectangle\",\n    value: function rectangle(x, y, width, height, options) {\n      var d = this.gen.rectangle(x, y, width, height, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"ellipse\",\n    value: function ellipse(x, y, width, height, options) {\n      var d = this.gen.ellipse(x, y, width, height, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"circle\",\n    value: function circle(x, y, diameter, options) {\n      var d = this.gen.circle(x, y, diameter, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"linearPath\",\n    value: function linearPath(points, options) {\n      var d = this.gen.linearPath(points, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"polygon\",\n    value: function polygon(points, options) {\n      var d = this.gen.polygon(points, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"arc\",\n    value: function arc(x, y, width, height, start, stop) {\n      var closed = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n      var options = arguments.length > 7 ? arguments[7] : undefined;\n      var d = this.gen.arc(x, y, width, height, start, stop, closed, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"curve\",\n    value: function curve(points, options) {\n      var d = this.gen.curve(points, options);\n      this.draw(d);\n      return d;\n    }\n  }, {\n    key: \"path\",\n    value: function path(d, options) {\n      var drawing = this.gen.path(d, options);\n      this.draw(drawing);\n      return drawing;\n    }\n  }]);\n\n  return RoughCanvas;\n}();","import React, { useState, useEffect, useRef } from \"react\";\n\n\nexport function GetScroll() {\n  const prevScrollY = useRef(0)\n  const [goingUp, setGoingUp] = useState(false);\n\n  const handleScroll = () => {\n\n    const currentScrollY = window.scrollY;\n    if (prevScrollY.current < currentScrollY && goingUp) {\n      setGoingUp(false);\n    }\n    if (prevScrollY.current > currentScrollY && !goingUp) {\n      setGoingUp(true);\n    }\n    prevScrollY.current = currentScrollY;\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll());\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [goingUp]);\n  return goingUp ? 'up' : 'down';\n}\n\n\n\nexport const usePrevious = (value, defaultRef) => {\n  const ref = useRef(defaultRef);\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n","// To fix canvas blurryness I used this: https://stackoverflow.com/questions/48961797/canvas-circle-looks-blurry\nimport { useEffect, useRef } from \"react\";\nimport { Delaunay } from \"d3-delaunay\";\nimport * as d3 from \"d3\";\nimport React from \"react\";\nimport { gsap } from \"gsap\";\nimport { isBrowser } from \"../../utils/staticRendering\";\nimport { dodge } from \"../../utils/visualizationUtils\";\nimport * as RoughCanvas from \"roughjs/bin/canvas\";\nimport { usePrevious } from \"../../hooks/customHooks\";\n\n// import * as RoughSvgfrom from \"roughjs/bin/svg\"\n\nconst ScrollySwarmDrawing = (\n  props,\n  {\n    pixelRatio = props.pixelRatio,\n    particles = props.particles,\n    height = props.height,\n    width = props.width,\n    margin = props.margin,\n    marginLeft = props.marginLeft,\n    // marginTop = props.marginTop,\n    circleColor = \"rgba(0,0,255,.3)\",\n    // circleHighlightColor = \"rgb(255,255,255)\",\n    strokeColor = \"rgba(0,0,255,1)\",\n    animationDuration = 0.5,\n    lineWidth = 0,\n    padding = lineWidth,\n  }\n) => {\n  const mainCanvasRef = useRef();\n  const glRef = useRef();\n  const highlightRef = useRef();\n  const axisRef = useRef();\n  const prevDate = usePrevious(props.dateSelection, \"\");\n  const preRenderCanvasRef = useRef()\n\n  const rScale = d3\n    .scaleLinear()\n    .domain(d3.extent(particles, (d) => d[props.valueSelection]))\n    .range([1, height / 70]);\n\n\n  const xScale = (_, prevOrCurrent) => d3\n      .scaleSequential()\n      .domain(d3.extent(particles, (d) => d[prevOrCurrent]))\n      // .range([marginLeft + margin, width]);\n      .range([marginLeft + margin, width]);\n\n  const r = (selectedValue) => rScale(selectedValue);\n\n  const tooltip =\n    isBrowser() &&\n    d3.select(\"#tooltipDivLight\")\n      .style(\"opacity\", 0)\n\n\n  function showTooltip(\n    tooltipX,\n    tooltipY,\n    readableValue,\n    readableDate,\n    readableFullDate\n  ) {\n    isBrowser() &&\n      tooltip\n        .style(\"opacity\", 1)\n        .style(\"display\", \"block\")\n        .style(\"top\", tooltipY + \"px\")\n        .style(\"left\", tooltipX + 30 - margin + \"px\")\n        .style(\"z-index\", 5000000)\n        .html(\n          `<div class =\"swarmTooltipText\">\n          <div>words written: <b>${readableValue}</b></div>\n          <div>${props.dateSelection}: <b>${readableDate}</b></div>\n          <div><b>${readableFullDate}</b></div>\n          </div>`\n        );\n  }\n\n  // const delaunayPoints = (dateString, x, y) =>\n  //   Delaunay.from(dodgedParticlesDestination.map((d) => [d.x, d.y]));\n\n  const xAxisScale = d3\n    .scaleSequential()\n    .domain(d3.extent(particles, (d) => d[props.dateSelection]))\n    .range([marginLeft, width - margin]);\n\n  const xAxis = d3\n    .axisBottom(xAxisScale)\n    .ticks(5)\n    .tickFormat((d) => `${d}`);\n\n  useEffect(() => {\n\n    //************************************************************\n    // ***** Scale Canvas and prep\n    // ***********************************************************\n    const canvas = mainCanvasRef.current;\n    const context = canvas.getContext(\"2d\", { alpha: false });\n    const preRenderCanvas = preRenderCanvasRef.current\n    const preRenderContext = preRenderCanvas.getContext(\"2d\");\n    preRenderContext.scale(pixelRatio, pixelRatio);\n    preRenderContext.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\n\n\n    context.scale(pixelRatio, pixelRatio);\n    context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    context.lineWidth = lineWidth;\n    context.fillStyle = circleColor;\n    preRenderContext.fillStyle = circleColor;\n    context.strokeStyle = strokeColor;\n    const renderRoughCircle = (cx, cy, diamater, canvasElem ) =>\n\n    new RoughCanvas.RoughCanvas(canvasElem).circle(cx, cy, diamater, {\n      roughness: 0.5, move: 0\n    });\n\n    const dodgedParticlesOrigin = dodge(\n      particles,\n      prevDate,\n      props.valueSelection,\n      xScale(particles, prevDate),\n      r,\n      padding,\n    );\n\n    const dodgedParticlesDestination = dodge(\n      particles,\n      props.dateSelection,\n      props.valueSelection,\n      xScale(particles, props.dateSelection),\n      r,\n      padding,\n    );\n\n    const delaunayPoints = (dateString, x, y) =>\n    Delaunay.from(dodgedParticlesDestination.map((d) => [d.x, d.y]));\n\n\n    //************************************************************\n    // ***** End Scale Canvas and prep\n    // ***********************************************************\n    const update = () => {\n      const animation = () =>\n        gsap.fromTo(\n          dodgedParticlesOrigin,\n          {\n            x: (index) => dodgedParticlesOrigin[index].x,\n            y: (index) => dodgedParticlesOrigin[index].y,\n          },\n          {\n            x: (index) => dodgedParticlesDestination[index].x,\n            y: (index) => dodgedParticlesDestination[index].y,\n            ease: \"power.3.out\",\n            duration: animationDuration,\n            // Documentation: https://greensock.com/docs/v3/Staggers\n            onUpdate: animate,\n            lazy: true,\n            stagger: {\n              each: 0.001,\n              from: \"random\",\n            },\n\n          },\n        );\n\n      animation();\n\n\n\n\n      function animate() {\n        preRenderContext.clearRect(0, 0, width, height);\n        context.clearRect(0, 0, width, height);\n\n        d3.select(axisRef.current).call(xAxis);\n        dodgedParticlesOrigin.map(\n\n          (d) => (\n         renderRoughCircle(d.x - margin, height - d.y, d.r * 2, canvas)),\n        );\n      }\n    };\n\n    onscroll = (event) => {\n      pointHoverOut();\n    };\n\n    const pointHoverIn = (hoverActive) => {\n      preRenderContext.clearRect(0, 0, width, height);\n      renderRoughCircle(hoverActive.x - margin, height - hoverActive.y, hoverActive.r * 2, preRenderCanvas)\n      preRenderContext.fill()\n    };\n\n    const pointHoverOut = () => {\n      preRenderContext.clearRect(0, 0, width, height);\n    };\n\n    function hideTooltip(hoverInactive) {\n      isBrowser && tooltip.style(\"display\", \"none\");\n      isBrowser && tooltip.style(\"opacity\", \"0\");\n    }\n\n    onmousemove = (event) => {\n      event.preventDefault();\n      let pageYoffset = window.pageYOffset;\n      let mousePoint = d3.pointer(event, this);\n      let xi = mousePoint[0] + margin;\n      let y = height - mousePoint[1] + pageYoffset;\n      let heightCond = xi < width + margin;\n      let index = delaunayPoints(props.dateSelection).find(xi, y);\n      let indexObj = dodgedParticlesDestination[index];\n      let tooltipX = indexObj.x;\n      let tooltipY = height - indexObj.y;\n      let tooltipLegibleValue = indexObj.data[props.valueSelection];\n      let tooltipLegibleSelectedDate = indexObj.data[props.dateSelection];\n      let tooltipLegibleDate = indexObj.data.date;\n\n      heightCond\n        ? showTooltip(\n            tooltipX,\n            tooltipY,\n            tooltipLegibleValue,\n            tooltipLegibleSelectedDate,\n            tooltipLegibleDate\n          )\n        : hideTooltip(indexObj);\n\n      heightCond ? pointHoverIn(indexObj) : pointHoverOut(indexObj);\n    };\n\n    update();\n  }, [props.dateSelection, props.width, props.height]);\n\n  return (\n    <div className=\"canvasStickyChartContainer scrollySwarmContainerDrawing\">\n      <div id=\"tooltipDivLight\" className=\"tooltipDiv\" />\n      <svg className=\"canvasStickyPointHighlight\" width={width} height={height}>\n        {/* <ReactRough\n          width={width}\n          height={height}\n          className=\"canvasStickyPointHighlight\"\n          renderer=\"svg\"\n        >\n          <Circle\n            renderer=\"svg\"\n            r={0}\n            className=\"highlightCircle\"\n            ref={highlightRef}\n          ></Circle>\n        </ReactRough> */}\n      </svg>\n      <canvas\n        className={\"canvasStickyChart\"}\n        style={{\n          width: props.width + \"px\",\n          height: props.height + \"px\",\n        }}\n        ref={mainCanvasRef}\n        width={props.width * props.pixelRatio}\n        height={props.height * props.pixelRatio}\n      />\n\n<canvas\n        className={\"canvasStickyChart\"}\n        style={{\n          width: props.width + \"px\",\n          height: props.height + \"px\",\n        }}\n        ref={preRenderCanvasRef}\n        width={props.width * props.pixelRatio}\n        height={props.height * props.pixelRatio}\n      />\n  {/* <canvas ref={glRef}></canvas> */}\n      <svg style={{ top: props.height - 1 }} className=\"canvasStickyChartAxis\">\n        <g className=\"lightModeAxis\" ref={axisRef}></g>\n      </svg>\n    </div>\n  );\n};\n\nexport default ScrollySwarmDrawing;\n","export const dodge = (data, selectedDateI, selectedValueI, xScaleI, rScaleI, paddingI, preRenderFun=false) => {\n  const circles = data\n    .map((d) => ({ x: xScaleI(d[selectedDateI]), r: rScaleI(d[selectedValueI]), data: d }))\n    .sort((b, a) => b.data.formatted_date - a.data.formatted_date);\n\n  const epsilon = 1e-3;\n  let head = null,\n    tail = null,\n    queue = null;\n\n  //   // Returns true if circle x,y intersects with any circle in the queue.\n  function intersects(x, y, r) {\n    let a = head;\n    while (a) {\n      const radius2 = (a.r + r + paddingI) ** 2;\n      if (radius2 - epsilon > (a.x - x) ** 2 + (a.y - y) ** 2) {\n        return true;\n      }\n      a = a.next;\n    }\n    return false;\n  }\n\n  //   // Place each circle sequentially.\n  for (const b of circles) {\n\n    //     // Choose the minimum non-intersecting tangent.\n    if (intersects(b.x, (b.y = b.r ), b.r)) {\n      let a = head;\n      b.y = Infinity;\n      do {\n        let y =\n          a.y + Math.sqrt((a.r + b.r + paddingI) ** 2 - (a.x - b.x) ** 2);\n        if (y < b.y && !intersects(b.x, y, b.r)) b.y = y;\n        a = a.next;\n      } while (a);\n    }\n\n    //     // Add b to the queue.\n    b.next = null;\n    if (head === null) {\n      head = tail = b;\n      queue = head;\n    } else tail = tail.next = b;\n\n    // if (preRenderFun) {b.preRendered=preRenderFun(b.x, b.y,b.r)}\n  }\n\n  return circles;\n};\n\n\n"],"names":["props","pixelRatio","height","width","margin","marginLeft","particles","marginTop","ref","useRef","highlightRef","axisRef","circleColor","prevDate","value","defaultRef","useEffect","current","usePrevious","dateSelection","rScale","d3","domain","d","valueSelection","range","x","incomingData","prevOrCurrent","r","selectedValue","dodgedParticlesOrigin","dodge","dodgedParticlesDestination","tooltip","isBrowser","style","xAxisScale","xAxis","ticks","tickFormat","context","getContext","scale","setTransform","globalAlpha","lineWidth","fillStyle","onscroll","event","pointHoverOut","attr","onmousemove","preventDefault","hoverActive","xSelection","ySelection","pageYoffset","window","pageYOffset","mousePoint","xi","y","heightCond","index","Delaunay","map","find","indexObj","tooltipX","tooltipY","tooltipLegibleValue","data","tooltipLegibleSelectedDate","tooltipLegibleDate","date","readableValue","readableDate","readableFullDate","html","showTooltip","strokeStyle","animate","restore","clearRect","call","transition","beginPath","i","arc","Math","PI","stroke","fill","gsap","duration","ease","onUpdate","stagger","each","from","update","className","id","useScrollData","top","rotatePoints","points","center","degrees","length","_center","cx","cy","angle","cos","sin","forEach","p","_p","lineLength","line","p1","p2","sqrt","pow","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","test","_unsupportedIterableToArray","F","s","done","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","polygonHachureLines","polygonList","hachureAngle","gap","hachureGap","strokeWidth","max","rotationCenter","_step","_iterator","lines","_step3","vertexArray","_iterator3","polygon","_vertices","join","push","edges","_i","_vertexArray","vertices","ymin","min","ymax","islope","sort","e1","e2","abs","activeEdges","ix","_i2","splice","edge","filter","ae","ae1","ae2","_i3","nexti","ce","ne","round","straightHachureLines","_step2","_iterator2","apply","rotateLines","HachureFiller","helper","this","key","_fillPolygons","type","ops","renderLines","doubleLineOps","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","arguments","ZigZagFiller","_HachureFiller","_super","assign","zigZagAngle","zigzagLines","dgx","dgy","_step$value","HatchFiller","set","o2","set2","concat","DotFiller","dotsOnLines","fweight","fillWeight","ro","dl","count","ceil","offset","minY","random","el","ellipse","DashedFiller","dashedLine","_this","dashOffset","dashGap","floor","startOffset","alpha","atan","lstart","lend","start","end","ZigZagLineFiller","zo","zigzagOffset","dz","middle","fillers","Random","seed","imul","PARAMS","A","a","C","c","H","h","L","l","M","m","Q","q","S","T","t","V","v","Z","z","isType","token","parsePath","segments","tokens","match","substr","RegExp","$1","text","parseFloat","tokenize","mode","paramsCount","params","Error","numbeToken","segment","absolutize","subx","suby","out","_data","_data2","_data3","newdata","_newdata","_newdata2","normalize","lastType","lcx","lcy","cx1","cy1","_data4","x1","y1","_cx","_cy","cx2","cy2","_data5","_x","_y","_x2","_y2","_cx2","_cy2","_cx3","_cy3","r1","r2","largeArcFlag","sweepFlag","_x3","_y3","arcToCubicCurves","curve","rotate","angleRad","x2","y2","recursive","f1","f2","_recursive","_rotate","_rotate2","_rotate3","_rotate4","r1Pow","r2Pow","left","right","k","asin","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","curves","_r","_r2","r3","randOffset","_offsetOpt","randOffsetWithRange","_offset","generateEllipseParams","ellipseWithParams","opset","_doubleLine","close","o1","_curveWithOffset","roughness","disableMultiStroke","randomizer","undefined","cloneOptionsAlterSeed","psq","stepCount","curveStepCount","increment","rx","ry","curveFitRandomness","curveFitting","ellipseParams","_computeEllipsePoints2","_computeEllipsePoints","_computeEllipsePoints3","ap1","cp1","_curve","_computeEllipsePoints4","estimatedPoints","stop","closed","roughClosure","strt","stp","ellipseInc","arcInc","_arc","op","solidFillPolygon","maxRandomnessOffset","patternFillPolygons","fillerName","getFiller","fillPolygons","patternFillArc","roughnessGain","filling","singleStroke","disableMultiStrokeFill","_line","move","overlay","lengthSq","halfOffset","divergePoint","midDispX","bowing","midDispY","randomHalf","randomFull","preserveVertices","ps","closePoint","b","curveTightness","cachedVertArray","overlap","corePoints","allPoints","radOffset","endAngle","_angle","_bezierTo","ros","iterations","clone","distanceSq","distanceToSegmentSq","w","l2","lerp","getPointsOnBezierCurveWithSplitting","tolerance","newPoints","outPoints","p3","p4","ux","uy","vx","vy","flatness","p0","distance","q1","q2","q3","red","simplify","simplifyPoints","epsilon","maxDistSq","maxNdx","distSq","pointsOnBezierCurves","numSegments","NOS","RoughGenerator","config","defaultOptions","options","_o","shape","sets","_d","paths","outline","ellipseResponse","diameter","ret","fillOptions","bcurve","pointsIn","curveToBezier","polyPoints","replace","hasFill","hasStroke","simplified","simplification","path","normalized","currentPoints","pendingCurve","appendPendingCurve","_currentPoints","appendPendingPoints","lastPoint","_sets","simplifiedSet","pointsOnPath","first","pv","svgPath","drawing","fixedDecimals","item","trim","drawable","opsToPath","fillSketch","RoughCanvas","canvas","ctx","gen","getDefaultOptions","precision","fixedDecimalPlaceDigits","save","strokeLineDash","setLineDash","strokeLineDashOffset","lineDashOffset","_drawToContext","fillRule","fillLineDash","fillLineDashOffset","rule","moveTo","bezierCurveTo","lineTo","get","draw","rectangle","circle","linearPath","strokeColor","animationDuration","padding","mainCanvasRef","preRenderCanvasRef","xScale","_","preRenderCanvas","preRenderContext","renderRoughCircle","diamater","canvasElem","lazy","selectedDateI","selectedValueI","xScaleI","rScaleI","paddingI","preRenderFun","circles","formatted_date","head","tail","intersects","Infinity"],"sourceRoot":""}